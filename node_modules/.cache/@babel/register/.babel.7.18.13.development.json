{"{\"assumptions\":{},\"sourceRoot\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server\",\"filename\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.13:development":{"value":{"code":"const express = require('express');\n\nrequire('dotenv').config();\n\nconst {\n  ApolloServer\n} = require('apollo-server-express');\n\nconst typeDefs = require('./graphql/schema');\n\nconst resolvers = require('./graphql/resolvers');\n\nconst dbconnection = require('./data/connectors');\n\nconst cors = require('cors');\n\nconst cookieParser = require('cookie-parser');\n\nconst app = express();\nconst corsOptions = {\n  origin: 'http://localhost:3001',\n  // Replace with your client's domain\n  credentials: true\n};\napp.use(cors(corsOptions));\napp.use(cookieParser());\n\nasync function startApolloServer() {\n  const server = new ApolloServer({\n    typeDefs,\n    resolvers,\n    context: async ({\n      req,\n      res\n    }) => {\n      const token = req.cookies['token'] || '';\n      return {\n        token,\n        res\n      };\n    }\n  });\n  await server.start(); // Ensure the server is started before applying middleware\n\n  server.applyMiddleware({\n    app,\n    path: '/graphql',\n    cors: corsOptions\n  });\n  app.listen({\n    port: 8000\n  }, () => {\n    console.log('Apollo Server on http://localhost:8000/graphql');\n  });\n}\n\nstartApolloServer().catch(error => {\n  console.error('Error starting Apollo Server:', error);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNvbmZpZyIsIkFwb2xsb1NlcnZlciIsInR5cGVEZWZzIiwicmVzb2x2ZXJzIiwiZGJjb25uZWN0aW9uIiwiY29ycyIsImNvb2tpZVBhcnNlciIsImFwcCIsImNvcnNPcHRpb25zIiwib3JpZ2luIiwiY3JlZGVudGlhbHMiLCJ1c2UiLCJzdGFydEFwb2xsb1NlcnZlciIsInNlcnZlciIsImNvbnRleHQiLCJyZXEiLCJyZXMiLCJ0b2tlbiIsImNvb2tpZXMiLCJzdGFydCIsImFwcGx5TWlkZGxld2FyZSIsInBhdGgiLCJsaXN0ZW4iLCJwb3J0IiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyb3IiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qYW1lc3N0b3JyL1Byb2plY3RzL1BvcnRmb2xpby9wb3J0Zm9saW8tYXBvbGxvLXNlcnZlci9zcmMvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xucmVxdWlyZSgnZG90ZW52JykuY29uZmlnKCk7XG5jb25zdCB7IEFwb2xsb1NlcnZlciB9ID0gcmVxdWlyZSgnYXBvbGxvLXNlcnZlci1leHByZXNzJyk7XG5jb25zdCB0eXBlRGVmcyA9IHJlcXVpcmUoJy4vZ3JhcGhxbC9zY2hlbWEnKTtcbmNvbnN0IHJlc29sdmVycyA9IHJlcXVpcmUoJy4vZ3JhcGhxbC9yZXNvbHZlcnMnKTtcbmNvbnN0IGRiY29ubmVjdGlvbiA9IHJlcXVpcmUoJy4vZGF0YS9jb25uZWN0b3JzJyk7XG5jb25zdCBjb3JzID0gcmVxdWlyZSgnY29ycycpO1xuY29uc3QgY29va2llUGFyc2VyID0gcmVxdWlyZSgnY29va2llLXBhcnNlcicpO1xuXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5cbmNvbnN0IGNvcnNPcHRpb25zID0ge1xuICBvcmlnaW46ICdodHRwOi8vbG9jYWxob3N0OjMwMDEnLCAvLyBSZXBsYWNlIHdpdGggeW91ciBjbGllbnQncyBkb21haW5cbiAgY3JlZGVudGlhbHM6IHRydWUsXG59O1xuXG5hcHAudXNlKGNvcnMoY29yc09wdGlvbnMpKTtcbmFwcC51c2UoY29va2llUGFyc2VyKCkpO1xuXG5hc3luYyBmdW5jdGlvbiBzdGFydEFwb2xsb1NlcnZlcigpIHtcbiAgY29uc3Qgc2VydmVyID0gbmV3IEFwb2xsb1NlcnZlcih7IFxuICAgIHR5cGVEZWZzLCBcbiAgICByZXNvbHZlcnMsXG4gICAgY29udGV4dDogYXN5bmMgKHsgcmVxLCByZXMgfSkgPT4ge1xuICAgICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llc1sndG9rZW4nXSB8fCAnJztcbiAgICAgIHJldHVybiB7IHRva2VuLCByZXMgfTtcbiAgICB9LFxuICB9KTtcblxuICBhd2FpdCBzZXJ2ZXIuc3RhcnQoKTsgLy8gRW5zdXJlIHRoZSBzZXJ2ZXIgaXMgc3RhcnRlZCBiZWZvcmUgYXBwbHlpbmcgbWlkZGxld2FyZVxuICBcbiAgc2VydmVyLmFwcGx5TWlkZGxld2FyZSh7IGFwcCwgcGF0aDogJy9ncmFwaHFsJywgY29yczogY29yc09wdGlvbnMgfSk7XG5cbiAgYXBwLmxpc3Rlbih7IHBvcnQ6IDgwMDAgfSwgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdBcG9sbG8gU2VydmVyIG9uIGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9ncmFwaHFsJyk7XG4gIH0pO1xufVxuXG5zdGFydEFwb2xsb1NlcnZlcigpLmNhdGNoKChlcnJvcikgPT4ge1xuICBjb25zb2xlLmVycm9yKCdFcnJvciBzdGFydGluZyBBcG9sbG8gU2VydmVyOicsIGVycm9yKTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFDQSxNQUFNO0VBQUVDO0FBQUYsSUFBbUJGLE9BQU8sQ0FBQyx1QkFBRCxDQUFoQzs7QUFDQSxNQUFNRyxRQUFRLEdBQUdILE9BQU8sQ0FBQyxrQkFBRCxDQUF4Qjs7QUFDQSxNQUFNSSxTQUFTLEdBQUdKLE9BQU8sQ0FBQyxxQkFBRCxDQUF6Qjs7QUFDQSxNQUFNSyxZQUFZLEdBQUdMLE9BQU8sQ0FBQyxtQkFBRCxDQUE1Qjs7QUFDQSxNQUFNTSxJQUFJLEdBQUdOLE9BQU8sQ0FBQyxNQUFELENBQXBCOztBQUNBLE1BQU1PLFlBQVksR0FBR1AsT0FBTyxDQUFDLGVBQUQsQ0FBNUI7O0FBRUEsTUFBTVEsR0FBRyxHQUFHVCxPQUFPLEVBQW5CO0FBRUEsTUFBTVUsV0FBVyxHQUFHO0VBQ2xCQyxNQUFNLEVBQUUsdUJBRFU7RUFDZTtFQUNqQ0MsV0FBVyxFQUFFO0FBRkssQ0FBcEI7QUFLQUgsR0FBRyxDQUFDSSxHQUFKLENBQVFOLElBQUksQ0FBQ0csV0FBRCxDQUFaO0FBQ0FELEdBQUcsQ0FBQ0ksR0FBSixDQUFRTCxZQUFZLEVBQXBCOztBQUVBLGVBQWVNLGlCQUFmLEdBQW1DO0VBQ2pDLE1BQU1DLE1BQU0sR0FBRyxJQUFJWixZQUFKLENBQWlCO0lBQzlCQyxRQUQ4QjtJQUU5QkMsU0FGOEI7SUFHOUJXLE9BQU8sRUFBRSxPQUFPO01BQUVDLEdBQUY7TUFBT0M7SUFBUCxDQUFQLEtBQXdCO01BQy9CLE1BQU1DLEtBQUssR0FBR0YsR0FBRyxDQUFDRyxPQUFKLENBQVksT0FBWixLQUF3QixFQUF0QztNQUNBLE9BQU87UUFBRUQsS0FBRjtRQUFTRDtNQUFULENBQVA7SUFDRDtFQU42QixDQUFqQixDQUFmO0VBU0EsTUFBTUgsTUFBTSxDQUFDTSxLQUFQLEVBQU4sQ0FWaUMsQ0FVWDs7RUFFdEJOLE1BQU0sQ0FBQ08sZUFBUCxDQUF1QjtJQUFFYixHQUFGO0lBQU9jLElBQUksRUFBRSxVQUFiO0lBQXlCaEIsSUFBSSxFQUFFRztFQUEvQixDQUF2QjtFQUVBRCxHQUFHLENBQUNlLE1BQUosQ0FBVztJQUFFQyxJQUFJLEVBQUU7RUFBUixDQUFYLEVBQTJCLE1BQU07SUFDL0JDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGdEQUFaO0VBQ0QsQ0FGRDtBQUdEOztBQUVEYixpQkFBaUIsR0FBR2MsS0FBcEIsQ0FBMkJDLEtBQUQsSUFBVztFQUNuQ0gsT0FBTyxDQUFDRyxLQUFSLENBQWMsK0JBQWQsRUFBK0NBLEtBQS9DO0FBQ0QsQ0FGRCJ9","map":{"version":3,"names":["express","require","config","ApolloServer","typeDefs","resolvers","dbconnection","cors","cookieParser","app","corsOptions","origin","credentials","use","startApolloServer","server","context","req","res","token","cookies","start","applyMiddleware","path","listen","port","console","log","catch","error"],"sourceRoot":"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/","sources":["index.js"],"sourcesContent":["const express = require('express');\nrequire('dotenv').config();\nconst { ApolloServer } = require('apollo-server-express');\nconst typeDefs = require('./graphql/schema');\nconst resolvers = require('./graphql/resolvers');\nconst dbconnection = require('./data/connectors');\nconst cors = require('cors');\nconst cookieParser = require('cookie-parser');\n\nconst app = express();\n\nconst corsOptions = {\n  origin: 'http://localhost:3001', // Replace with your client's domain\n  credentials: true,\n};\n\napp.use(cors(corsOptions));\napp.use(cookieParser());\n\nasync function startApolloServer() {\n  const server = new ApolloServer({ \n    typeDefs, \n    resolvers,\n    context: async ({ req, res }) => {\n      const token = req.cookies['token'] || '';\n      return { token, res };\n    },\n  });\n\n  await server.start(); // Ensure the server is started before applying middleware\n  \n  server.applyMiddleware({ app, path: '/graphql', cors: corsOptions });\n\n  app.listen({ port: 8000 }, () => {\n    console.log('Apollo Server on http://localhost:8000/graphql');\n  });\n}\n\nstartApolloServer().catch((error) => {\n  console.error('Error starting Apollo Server:', error);\n});\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AACA,MAAM;EAAEC;AAAF,IAAmBF,OAAO,CAAC,uBAAD,CAAhC;;AACA,MAAMG,QAAQ,GAAGH,OAAO,CAAC,kBAAD,CAAxB;;AACA,MAAMI,SAAS,GAAGJ,OAAO,CAAC,qBAAD,CAAzB;;AACA,MAAMK,YAAY,GAAGL,OAAO,CAAC,mBAAD,CAA5B;;AACA,MAAMM,IAAI,GAAGN,OAAO,CAAC,MAAD,CAApB;;AACA,MAAMO,YAAY,GAAGP,OAAO,CAAC,eAAD,CAA5B;;AAEA,MAAMQ,GAAG,GAAGT,OAAO,EAAnB;AAEA,MAAMU,WAAW,GAAG;EAClBC,MAAM,EAAE,uBADU;EACe;EACjCC,WAAW,EAAE;AAFK,CAApB;AAKAH,GAAG,CAACI,GAAJ,CAAQN,IAAI,CAACG,WAAD,CAAZ;AACAD,GAAG,CAACI,GAAJ,CAAQL,YAAY,EAApB;;AAEA,eAAeM,iBAAf,GAAmC;EACjC,MAAMC,MAAM,GAAG,IAAIZ,YAAJ,CAAiB;IAC9BC,QAD8B;IAE9BC,SAF8B;IAG9BW,OAAO,EAAE,OAAO;MAAEC,GAAF;MAAOC;IAAP,CAAP,KAAwB;MAC/B,MAAMC,KAAK,GAAGF,GAAG,CAACG,OAAJ,CAAY,OAAZ,KAAwB,EAAtC;MACA,OAAO;QAAED,KAAF;QAASD;MAAT,CAAP;IACD;EAN6B,CAAjB,CAAf;EASA,MAAMH,MAAM,CAACM,KAAP,EAAN,CAViC,CAUX;;EAEtBN,MAAM,CAACO,eAAP,CAAuB;IAAEb,GAAF;IAAOc,IAAI,EAAE,UAAb;IAAyBhB,IAAI,EAAEG;EAA/B,CAAvB;EAEAD,GAAG,CAACe,MAAJ,CAAW;IAAEC,IAAI,EAAE;EAAR,CAAX,EAA2B,MAAM;IAC/BC,OAAO,CAACC,GAAR,CAAY,gDAAZ;EACD,CAFD;AAGD;;AAEDb,iBAAiB,GAAGc,KAApB,CAA2BC,KAAD,IAAW;EACnCH,OAAO,CAACG,KAAR,CAAc,+BAAd,EAA+CA,KAA/C;AACD,CAFD"}},"mtime":1704561601958},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/graphql/schema/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server\",\"filename\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/graphql/schema/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.13:development":{"value":{"code":"const {\n  gql\n} = require('apollo-server-express');\n\nconst typeDefs = gql`\ntype Query {\n    getAllPublishedArticles(categories: [String]): [Article!]\n    getArticleById(id: String!): Article\n    getArticlesByDate(from: String!, to: String!): [Article!]\n    getCategories: [Category]\n    getAllProjects: [Article!]\n    getAllArticles: [Article!]\n}\n\ninput ArticleInput {\n    title: String!\n    summary: String!\n    content: String!\n    imageUrl: String!\n    categories: [String]\n    published: Boolean!\n    project: Boolean!\n    id: String\n}\n\ninput UserInput {\n    username: String!\n    password: String!\n    firstName: String\n    lastName: String\n}\n\ntype Mutation {\n    createArticle(input: ArticleInput!): Article!\n    createCategory(categoryName: String!): Category!\n    login(username: String!, password: String!): AuthConfirm!\n    createUser(input:UserInput!): AuthConfirm!\n}\n\ntype Article {\n    id: String\n    title: String\n    summary: String\n    content: String\n    imageUrl: String\n    date: String\n    categories: [String]\n    published: Boolean\n    project: Boolean\n}\n\ntype Category {\n    id: String\n    name: String\n}\n\ntype Token {\n    token: String!\n}\n\ntype AuthConfirm {\n    message: String!\n}\n`;\nmodule.exports = typeDefs;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJncWwiLCJyZXF1aXJlIiwidHlwZURlZnMiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamFtZXNzdG9yci9Qcm9qZWN0cy9Qb3J0Zm9saW8vcG9ydGZvbGlvLWFwb2xsby1zZXJ2ZXIvc3JjL2dyYXBocWwvc2NoZW1hLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5jb25zdCB7IGdxbCB9ID0gcmVxdWlyZSgnYXBvbGxvLXNlcnZlci1leHByZXNzJyk7XG5cbmNvbnN0IHR5cGVEZWZzID0gZ3FsYFxudHlwZSBRdWVyeSB7XG4gICAgZ2V0QWxsUHVibGlzaGVkQXJ0aWNsZXMoY2F0ZWdvcmllczogW1N0cmluZ10pOiBbQXJ0aWNsZSFdXG4gICAgZ2V0QXJ0aWNsZUJ5SWQoaWQ6IFN0cmluZyEpOiBBcnRpY2xlXG4gICAgZ2V0QXJ0aWNsZXNCeURhdGUoZnJvbTogU3RyaW5nISwgdG86IFN0cmluZyEpOiBbQXJ0aWNsZSFdXG4gICAgZ2V0Q2F0ZWdvcmllczogW0NhdGVnb3J5XVxuICAgIGdldEFsbFByb2plY3RzOiBbQXJ0aWNsZSFdXG4gICAgZ2V0QWxsQXJ0aWNsZXM6IFtBcnRpY2xlIV1cbn1cblxuaW5wdXQgQXJ0aWNsZUlucHV0IHtcbiAgICB0aXRsZTogU3RyaW5nIVxuICAgIHN1bW1hcnk6IFN0cmluZyFcbiAgICBjb250ZW50OiBTdHJpbmchXG4gICAgaW1hZ2VVcmw6IFN0cmluZyFcbiAgICBjYXRlZ29yaWVzOiBbU3RyaW5nXVxuICAgIHB1Ymxpc2hlZDogQm9vbGVhbiFcbiAgICBwcm9qZWN0OiBCb29sZWFuIVxuICAgIGlkOiBTdHJpbmdcbn1cblxuaW5wdXQgVXNlcklucHV0IHtcbiAgICB1c2VybmFtZTogU3RyaW5nIVxuICAgIHBhc3N3b3JkOiBTdHJpbmchXG4gICAgZmlyc3ROYW1lOiBTdHJpbmdcbiAgICBsYXN0TmFtZTogU3RyaW5nXG59XG5cbnR5cGUgTXV0YXRpb24ge1xuICAgIGNyZWF0ZUFydGljbGUoaW5wdXQ6IEFydGljbGVJbnB1dCEpOiBBcnRpY2xlIVxuICAgIGNyZWF0ZUNhdGVnb3J5KGNhdGVnb3J5TmFtZTogU3RyaW5nISk6IENhdGVnb3J5IVxuICAgIGxvZ2luKHVzZXJuYW1lOiBTdHJpbmchLCBwYXNzd29yZDogU3RyaW5nISk6IEF1dGhDb25maXJtIVxuICAgIGNyZWF0ZVVzZXIoaW5wdXQ6VXNlcklucHV0ISk6IEF1dGhDb25maXJtIVxufVxuXG50eXBlIEFydGljbGUge1xuICAgIGlkOiBTdHJpbmdcbiAgICB0aXRsZTogU3RyaW5nXG4gICAgc3VtbWFyeTogU3RyaW5nXG4gICAgY29udGVudDogU3RyaW5nXG4gICAgaW1hZ2VVcmw6IFN0cmluZ1xuICAgIGRhdGU6IFN0cmluZ1xuICAgIGNhdGVnb3JpZXM6IFtTdHJpbmddXG4gICAgcHVibGlzaGVkOiBCb29sZWFuXG4gICAgcHJvamVjdDogQm9vbGVhblxufVxuXG50eXBlIENhdGVnb3J5IHtcbiAgICBpZDogU3RyaW5nXG4gICAgbmFtZTogU3RyaW5nXG59XG5cbnR5cGUgVG9rZW4ge1xuICAgIHRva2VuOiBTdHJpbmchXG59XG5cbnR5cGUgQXV0aENvbmZpcm0ge1xuICAgIG1lc3NhZ2U6IFN0cmluZyFcbn1cbmA7XG5cblxubW9kdWxlLmV4cG9ydHMgPSB0eXBlRGVmczsiXSwibWFwcGluZ3MiOiJBQUNBLE1BQU07RUFBRUE7QUFBRixJQUFVQyxPQUFPLENBQUMsdUJBQUQsQ0FBdkI7O0FBRUEsTUFBTUMsUUFBUSxHQUFHRixHQUFJO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0EzREE7QUE4REFHLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQkYsUUFBakIifQ==","map":{"version":3,"names":["gql","require","typeDefs","module","exports"],"sourceRoot":"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/graphql/schema/","sources":["index.js"],"sourcesContent":["\nconst { gql } = require('apollo-server-express');\n\nconst typeDefs = gql`\ntype Query {\n    getAllPublishedArticles(categories: [String]): [Article!]\n    getArticleById(id: String!): Article\n    getArticlesByDate(from: String!, to: String!): [Article!]\n    getCategories: [Category]\n    getAllProjects: [Article!]\n    getAllArticles: [Article!]\n}\n\ninput ArticleInput {\n    title: String!\n    summary: String!\n    content: String!\n    imageUrl: String!\n    categories: [String]\n    published: Boolean!\n    project: Boolean!\n    id: String\n}\n\ninput UserInput {\n    username: String!\n    password: String!\n    firstName: String\n    lastName: String\n}\n\ntype Mutation {\n    createArticle(input: ArticleInput!): Article!\n    createCategory(categoryName: String!): Category!\n    login(username: String!, password: String!): AuthConfirm!\n    createUser(input:UserInput!): AuthConfirm!\n}\n\ntype Article {\n    id: String\n    title: String\n    summary: String\n    content: String\n    imageUrl: String\n    date: String\n    categories: [String]\n    published: Boolean\n    project: Boolean\n}\n\ntype Category {\n    id: String\n    name: String\n}\n\ntype Token {\n    token: String!\n}\n\ntype AuthConfirm {\n    message: String!\n}\n`;\n\n\nmodule.exports = typeDefs;"],"mappings":"AACA,MAAM;EAAEA;AAAF,IAAUC,OAAO,CAAC,uBAAD,CAAvB;;AAEA,MAAMC,QAAQ,GAAGF,GAAI;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CA3DA;AA8DAG,MAAM,CAACC,OAAP,GAAiBF,QAAjB"}},"mtime":1704541664668},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/graphql/resolvers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server\",\"filename\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/graphql/resolvers/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.13:development":{"value":{"code":"const articleResolvers = require('./articleResolvers');\n\nconst categoryResolvers = require('./categoryResolvers');\n\nconst userResolvers = require('./userResolvers');\n\nconst resolvers = [articleResolvers, categoryResolvers, userResolvers];\nmodule.exports = resolvers;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcnRpY2xlUmVzb2x2ZXJzIiwicmVxdWlyZSIsImNhdGVnb3J5UmVzb2x2ZXJzIiwidXNlclJlc29sdmVycyIsInJlc29sdmVycyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qYW1lc3N0b3JyL1Byb2plY3RzL1BvcnRmb2xpby9wb3J0Zm9saW8tYXBvbGxvLXNlcnZlci9zcmMvZ3JhcGhxbC9yZXNvbHZlcnMvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhcnRpY2xlUmVzb2x2ZXJzID0gcmVxdWlyZSgnLi9hcnRpY2xlUmVzb2x2ZXJzJyk7XG5jb25zdCBjYXRlZ29yeVJlc29sdmVycyA9IHJlcXVpcmUoJy4vY2F0ZWdvcnlSZXNvbHZlcnMnKTtcbmNvbnN0IHVzZXJSZXNvbHZlcnMgPSByZXF1aXJlKCcuL3VzZXJSZXNvbHZlcnMnKTtcblxuY29uc3QgcmVzb2x2ZXJzID0gW2FydGljbGVSZXNvbHZlcnMsIGNhdGVnb3J5UmVzb2x2ZXJzLCB1c2VyUmVzb2x2ZXJzXTtcblxubW9kdWxlLmV4cG9ydHMgPSByZXNvbHZlcnMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLGdCQUFnQixHQUFHQyxPQUFPLENBQUMsb0JBQUQsQ0FBaEM7O0FBQ0EsTUFBTUMsaUJBQWlCLEdBQUdELE9BQU8sQ0FBQyxxQkFBRCxDQUFqQzs7QUFDQSxNQUFNRSxhQUFhLEdBQUdGLE9BQU8sQ0FBQyxpQkFBRCxDQUE3Qjs7QUFFQSxNQUFNRyxTQUFTLEdBQUcsQ0FBQ0osZ0JBQUQsRUFBbUJFLGlCQUFuQixFQUFzQ0MsYUFBdEMsQ0FBbEI7QUFFQUUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCRixTQUFqQiJ9","map":{"version":3,"names":["articleResolvers","require","categoryResolvers","userResolvers","resolvers","module","exports"],"sourceRoot":"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/graphql/resolvers/","sources":["index.js"],"sourcesContent":["const articleResolvers = require('./articleResolvers');\nconst categoryResolvers = require('./categoryResolvers');\nconst userResolvers = require('./userResolvers');\n\nconst resolvers = [articleResolvers, categoryResolvers, userResolvers];\n\nmodule.exports = resolvers"],"mappings":"AAAA,MAAMA,gBAAgB,GAAGC,OAAO,CAAC,oBAAD,CAAhC;;AACA,MAAMC,iBAAiB,GAAGD,OAAO,CAAC,qBAAD,CAAjC;;AACA,MAAME,aAAa,GAAGF,OAAO,CAAC,iBAAD,CAA7B;;AAEA,MAAMG,SAAS,GAAG,CAACJ,gBAAD,EAAmBE,iBAAnB,EAAsCC,aAAtC,CAAlB;AAEAE,MAAM,CAACC,OAAP,GAAiBF,SAAjB"}},"mtime":1704536377793},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/graphql/resolvers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server\",\"filename\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/graphql/resolvers/articleResolvers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.13:development":{"value":{"code":"const {\n  format\n} = require(\"path\");\n\nconst Article = require(\"../../data/models/article\");\n\nconst jwt = require(\"jsonwebtoken\");\n\nfunction verifyToken(token, secret) {\n  try {\n    const decoded = jwt.verify(token, secret);\n    return decoded;\n  } catch (error) {\n    throw new Error(error.message);\n  }\n}\n\nfunction formatDate(date) {\n  const year = date.getFullYear();\n  const month = String(date.getMonth() + 1).padStart(2, '0');\n  const day = String(date.getDate()).padStart(2, '0');\n  return `${day}-${month}-${year}`;\n}\n\nconst articleResolvers = {\n  Query: {\n    getAllPublishedArticles: async (_, {\n      categories\n    }) => {\n      console.log(categories);\n\n      try {\n        const articles = await Article.getAllPublishedArticles(categories);\n        return articles;\n      } catch (error) {\n        throw new Error(\"Error fetching published articles: \" + error.message);\n      }\n    },\n    getArticleById: async (_, {\n      id\n    }) => {\n      try {\n        const article = await Article.getArticleById(id);\n        return article;\n      } catch (error) {\n        throw new Error(\"Error fetching article by ID: \" + error.message);\n      }\n    },\n    getArticlesByDate: async (_, {\n      from,\n      to\n    }) => {\n      try {\n        const articles = await Article.getArticlesByDate(from, to);\n        return articles;\n      } catch (error) {\n        throw new Error(\"Error fetching articles by date: \" + error.message);\n      }\n    },\n    getAllProjects: async () => {\n      try {\n        const articles = await Article.getAllProjects();\n        return articles;\n      } catch (error) {\n        throw new Error(\"Error fetching projects: \" + error.message);\n      }\n    },\n    getAllArticles: async (_, args, context) => {\n      const {\n        token\n      } = context;\n\n      if (!token) {\n        throw new Error('Authentication required');\n      }\n\n      const decoded = verifyToken(token, process.env.SECRET);\n\n      try {\n        const articles = await Article.getAllArticles();\n        return articles;\n      } catch (error) {\n        throw new Error(\"Error fetching all articles: \" + error.message);\n      }\n    }\n  },\n  Mutation: {\n    createArticle: async (_, {\n      input\n    }) => {\n      if (input.id) {\n        try {\n          const updatedArticle = {\n            title: input.title,\n            summary: input.summary,\n            content: input.content,\n            imageUrl: input.imageUrl,\n            categories: input.categories,\n            published: input.published,\n            project: input.project,\n            date: formatDate(new Date())\n          };\n          const response = await Article.updateOne({\n            _id: input.id\n          }, updatedArticle);\n          return response;\n        } catch (error) {\n          throw new Error(\"Error updating article: \" + error.message);\n        }\n      }\n\n      try {\n        const newArticle = {\n          title: input.title,\n          summary: input.summary,\n          content: input.content,\n          imageUrl: input.imageUrl,\n          categories: input.categories,\n          published: input.published,\n          project: input.project,\n          date: formatDate(new Date())\n        };\n        const response = await Article.createArticle(newArticle);\n        return response;\n      } catch (error) {\n        throw new Error(\"Error creating article: \" + error.message);\n      }\n    }\n    /* deleteArticle: async (_, { input }) => {\n        try {\n          const response = await Article.deleteOne({ _id: input.id });\n          return response;\n        } catch (error) {\n          throw new Error(\"Error deleting article: \" + error.message);\n        }\n      } */\n\n  }\n};\nmodule.exports = articleResolvers;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmb3JtYXQiLCJyZXF1aXJlIiwiQXJ0aWNsZSIsImp3dCIsInZlcmlmeVRva2VuIiwidG9rZW4iLCJzZWNyZXQiLCJkZWNvZGVkIiwidmVyaWZ5IiwiZXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJmb3JtYXREYXRlIiwiZGF0ZSIsInllYXIiLCJnZXRGdWxsWWVhciIsIm1vbnRoIiwiU3RyaW5nIiwiZ2V0TW9udGgiLCJwYWRTdGFydCIsImRheSIsImdldERhdGUiLCJhcnRpY2xlUmVzb2x2ZXJzIiwiUXVlcnkiLCJnZXRBbGxQdWJsaXNoZWRBcnRpY2xlcyIsIl8iLCJjYXRlZ29yaWVzIiwiY29uc29sZSIsImxvZyIsImFydGljbGVzIiwiZ2V0QXJ0aWNsZUJ5SWQiLCJpZCIsImFydGljbGUiLCJnZXRBcnRpY2xlc0J5RGF0ZSIsImZyb20iLCJ0byIsImdldEFsbFByb2plY3RzIiwiZ2V0QWxsQXJ0aWNsZXMiLCJhcmdzIiwiY29udGV4dCIsInByb2Nlc3MiLCJlbnYiLCJTRUNSRVQiLCJNdXRhdGlvbiIsImNyZWF0ZUFydGljbGUiLCJpbnB1dCIsInVwZGF0ZWRBcnRpY2xlIiwidGl0bGUiLCJzdW1tYXJ5IiwiY29udGVudCIsImltYWdlVXJsIiwicHVibGlzaGVkIiwicHJvamVjdCIsIkRhdGUiLCJyZXNwb25zZSIsInVwZGF0ZU9uZSIsIl9pZCIsIm5ld0FydGljbGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamFtZXNzdG9yci9Qcm9qZWN0cy9Qb3J0Zm9saW8vcG9ydGZvbGlvLWFwb2xsby1zZXJ2ZXIvc3JjL2dyYXBocWwvcmVzb2x2ZXJzLyIsInNvdXJjZXMiOlsiYXJ0aWNsZVJlc29sdmVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGZvcm1hdCB9ID0gcmVxdWlyZShcInBhdGhcIik7XG5jb25zdCBBcnRpY2xlID0gcmVxdWlyZShcIi4uLy4uL2RhdGEvbW9kZWxzL2FydGljbGVcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xuXG5mdW5jdGlvbiB2ZXJpZnlUb2tlbih0b2tlbiwgc2VjcmV0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIHNlY3JldCk7XG5cbiAgICByZXR1cm4gZGVjb2RlZDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRlKSB7XG4gICAgY29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICBjb25zdCBtb250aCA9IFN0cmluZyhkYXRlLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpO1xuICAgIGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICByZXR1cm4gYCR7ZGF5fS0ke21vbnRofS0ke3llYXJ9YDtcbiAgfVxuXG5jb25zdCBhcnRpY2xlUmVzb2x2ZXJzID0ge1xuICBRdWVyeToge1xuICAgIGdldEFsbFB1Ymxpc2hlZEFydGljbGVzOiBhc3luYyAoXywgeyBjYXRlZ29yaWVzIH0pID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coY2F0ZWdvcmllcylcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGFydGljbGVzID0gYXdhaXQgQXJ0aWNsZS5nZXRBbGxQdWJsaXNoZWRBcnRpY2xlcyhjYXRlZ29yaWVzKTtcbiAgICAgICAgcmV0dXJuIGFydGljbGVzO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgcHVibGlzaGVkIGFydGljbGVzOiBcIiArIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0QXJ0aWNsZUJ5SWQ6IGFzeW5jIChfLCB7IGlkIH0pID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGFydGljbGUgPSBhd2FpdCBBcnRpY2xlLmdldEFydGljbGVCeUlkKGlkKTtcbiAgICAgICAgcmV0dXJuIGFydGljbGU7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBmZXRjaGluZyBhcnRpY2xlIGJ5IElEOiBcIiArIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0QXJ0aWNsZXNCeURhdGU6IGFzeW5jIChfLCB7IGZyb20sIHRvIH0pID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGFydGljbGVzID0gYXdhaXQgQXJ0aWNsZS5nZXRBcnRpY2xlc0J5RGF0ZShmcm9tLCB0byk7XG4gICAgICAgIHJldHVybiBhcnRpY2xlcztcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yIGZldGNoaW5nIGFydGljbGVzIGJ5IGRhdGU6IFwiICsgZXJyb3IubWVzc2FnZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXRBbGxQcm9qZWN0czogYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYXJ0aWNsZXMgPSBhd2FpdCBBcnRpY2xlLmdldEFsbFByb2plY3RzKCk7XG4gICAgICAgIHJldHVybiBhcnRpY2xlcztcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yIGZldGNoaW5nIHByb2plY3RzOiBcIiArIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0QWxsQXJ0aWNsZXM6IGFzeW5jIChfLCBhcmdzLCBjb250ZXh0KSA9PiB7XG4gICAgICAgIGNvbnN0IHt0b2tlbn0gPSBjb250ZXh0O1xuICAgICAgICBcbiAgICAgICAgaWYoIXRva2VuKXtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXV0aGVudGljYXRpb24gcmVxdWlyZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWNvZGVkID0gdmVyaWZ5VG9rZW4odG9rZW4sIHByb2Nlc3MuZW52LlNFQ1JFVCk7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGFydGljbGVzID0gYXdhaXQgQXJ0aWNsZS5nZXRBbGxBcnRpY2xlcygpO1xuICAgICAgICByZXR1cm4gYXJ0aWNsZXM7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBmZXRjaGluZyBhbGwgYXJ0aWNsZXM6IFwiICsgZXJyb3IubWVzc2FnZSk7XG4gICAgICB9XG4gICAgfSxcbiAgfSxcbiAgTXV0YXRpb246IHtcbiAgICBjcmVhdGVBcnRpY2xlOiBhc3luYyAoXywgeyBpbnB1dCB9KSA9PiB7XG4gICAgICBpZiAoaW5wdXQuaWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB1cGRhdGVkQXJ0aWNsZSA9IHtcbiAgICAgICAgICAgIHRpdGxlOiBpbnB1dC50aXRsZSxcbiAgICAgICAgICAgIHN1bW1hcnk6IGlucHV0LnN1bW1hcnksXG4gICAgICAgICAgICBjb250ZW50OiBpbnB1dC5jb250ZW50LFxuICAgICAgICAgICAgaW1hZ2VVcmw6IGlucHV0LmltYWdlVXJsLFxuICAgICAgICAgICAgY2F0ZWdvcmllczogaW5wdXQuY2F0ZWdvcmllcyxcbiAgICAgICAgICAgIHB1Ymxpc2hlZDogaW5wdXQucHVibGlzaGVkLFxuICAgICAgICAgICAgcHJvamVjdDogaW5wdXQucHJvamVjdCxcbiAgICAgICAgICAgIGRhdGU6IGZvcm1hdERhdGUobmV3IERhdGUoKSksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEFydGljbGUudXBkYXRlT25lKFxuICAgICAgICAgICAgeyBfaWQ6IGlucHV0LmlkIH0sXG4gICAgICAgICAgICB1cGRhdGVkQXJ0aWNsZVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yIHVwZGF0aW5nIGFydGljbGU6IFwiICsgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG5ld0FydGljbGUgPSB7XG4gICAgICAgICAgdGl0bGU6IGlucHV0LnRpdGxlLFxuICAgICAgICAgIHN1bW1hcnk6IGlucHV0LnN1bW1hcnksXG4gICAgICAgICAgY29udGVudDogaW5wdXQuY29udGVudCxcbiAgICAgICAgICBpbWFnZVVybDogaW5wdXQuaW1hZ2VVcmwsXG4gICAgICAgICAgY2F0ZWdvcmllczogaW5wdXQuY2F0ZWdvcmllcyxcbiAgICAgICAgICBwdWJsaXNoZWQ6IGlucHV0LnB1Ymxpc2hlZCxcbiAgICAgICAgICBwcm9qZWN0OiBpbnB1dC5wcm9qZWN0LFxuICAgICAgICAgIGRhdGU6IGZvcm1hdERhdGUobmV3IERhdGUoKSksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgQXJ0aWNsZS5jcmVhdGVBcnRpY2xlKG5ld0FydGljbGUpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBjcmVhdGluZyBhcnRpY2xlOiBcIiArIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH0sXG4gICAgLyogZGVsZXRlQXJ0aWNsZTogYXN5bmMgKF8sIHsgaW5wdXQgfSkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgQXJ0aWNsZS5kZWxldGVPbmUoeyBfaWQ6IGlucHV0LmlkIH0pO1xuICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBkZWxldGluZyBhcnRpY2xlOiBcIiArIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9ICovXG4gIH0sXG4gXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFydGljbGVSZXNvbHZlcnM7XG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07RUFBRUE7QUFBRixJQUFhQyxPQUFPLENBQUMsTUFBRCxDQUExQjs7QUFDQSxNQUFNQyxPQUFPLEdBQUdELE9BQU8sQ0FBQywyQkFBRCxDQUF2Qjs7QUFDQSxNQUFNRSxHQUFHLEdBQUdGLE9BQU8sQ0FBQyxjQUFELENBQW5COztBQUVBLFNBQVNHLFdBQVQsQ0FBcUJDLEtBQXJCLEVBQTRCQyxNQUE1QixFQUFvQztFQUNsQyxJQUFJO0lBQ0YsTUFBTUMsT0FBTyxHQUFHSixHQUFHLENBQUNLLE1BQUosQ0FBV0gsS0FBWCxFQUFrQkMsTUFBbEIsQ0FBaEI7SUFFQSxPQUFPQyxPQUFQO0VBQ0QsQ0FKRCxDQUlFLE9BQU9FLEtBQVAsRUFBYztJQUNkLE1BQU0sSUFBSUMsS0FBSixDQUFVRCxLQUFLLENBQUNFLE9BQWhCLENBQU47RUFDRDtBQUNGOztBQUVELFNBQVNDLFVBQVQsQ0FBb0JDLElBQXBCLEVBQTBCO0VBQ3RCLE1BQU1DLElBQUksR0FBR0QsSUFBSSxDQUFDRSxXQUFMLEVBQWI7RUFDQSxNQUFNQyxLQUFLLEdBQUdDLE1BQU0sQ0FBQ0osSUFBSSxDQUFDSyxRQUFMLEtBQWtCLENBQW5CLENBQU4sQ0FBNEJDLFFBQTVCLENBQXFDLENBQXJDLEVBQXdDLEdBQXhDLENBQWQ7RUFDQSxNQUFNQyxHQUFHLEdBQUdILE1BQU0sQ0FBQ0osSUFBSSxDQUFDUSxPQUFMLEVBQUQsQ0FBTixDQUF1QkYsUUFBdkIsQ0FBZ0MsQ0FBaEMsRUFBbUMsR0FBbkMsQ0FBWjtFQUNBLE9BQVEsR0FBRUMsR0FBSSxJQUFHSixLQUFNLElBQUdGLElBQUssRUFBL0I7QUFDRDs7QUFFSCxNQUFNUSxnQkFBZ0IsR0FBRztFQUN2QkMsS0FB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","map":{"version":3,"names":["format","require","Article","jwt","verifyToken","token","secret","decoded","verify","error","Error","message","formatDate","date","year","getFullYear","month","String","getMonth","padStart","day","getDate","articleResolvers","Query","getAllPublishedArticles","_","categories","console","log","articles","getArticleById","id","article","getArticlesByDate","from","to","getAllProjects","getAllArticles","args","context","process","env","SECRET","Mutation","createArticle","input","updatedArticle","title","summary","content","imageUrl","published","project","Date","response","updateOne","_id","newArticle","module","exports"],"sourceRoot":"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/graphql/resolvers/","sources":["articleResolvers.js"],"sourcesContent":["const { format } = require(\"path\");\nconst Article = require(\"../../data/models/article\");\nconst jwt = require(\"jsonwebtoken\");\n\nfunction verifyToken(token, secret) {\n  try {\n    const decoded = jwt.verify(token, secret);\n\n    return decoded;\n  } catch (error) {\n    throw new Error(error.message);\n  }\n}\n\nfunction formatDate(date) {\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    return `${day}-${month}-${year}`;\n  }\n\nconst articleResolvers = {\n  Query: {\n    getAllPublishedArticles: async (_, { categories }) => {\n        console.log(categories)\n      try {\n        const articles = await Article.getAllPublishedArticles(categories);\n        return articles;\n      } catch (error) {\n        throw new Error(\"Error fetching published articles: \" + error.message);\n      }\n    },\n    getArticleById: async (_, { id }) => {\n      try {\n        const article = await Article.getArticleById(id);\n        return article;\n      } catch (error) {\n        throw new Error(\"Error fetching article by ID: \" + error.message);\n      }\n    },\n    getArticlesByDate: async (_, { from, to }) => {\n      try {\n        const articles = await Article.getArticlesByDate(from, to);\n        return articles;\n      } catch (error) {\n        throw new Error(\"Error fetching articles by date: \" + error.message);\n      }\n    },\n    getAllProjects: async () => {\n      try {\n        const articles = await Article.getAllProjects();\n        return articles;\n      } catch (error) {\n        throw new Error(\"Error fetching projects: \" + error.message);\n      }\n    },\n    getAllArticles: async (_, args, context) => {\n        const {token} = context;\n        \n        if(!token){\n            throw new Error('Authentication required');\n        }\n        const decoded = verifyToken(token, process.env.SECRET);\n      \n      try {\n        const articles = await Article.getAllArticles();\n        return articles;\n      } catch (error) {\n        throw new Error(\"Error fetching all articles: \" + error.message);\n      }\n    },\n  },\n  Mutation: {\n    createArticle: async (_, { input }) => {\n      if (input.id) {\n        try {\n          const updatedArticle = {\n            title: input.title,\n            summary: input.summary,\n            content: input.content,\n            imageUrl: input.imageUrl,\n            categories: input.categories,\n            published: input.published,\n            project: input.project,\n            date: formatDate(new Date()),\n          };\n          const response = await Article.updateOne(\n            { _id: input.id },\n            updatedArticle\n          );\n          return response;\n        } catch (error) {\n          throw new Error(\"Error updating article: \" + error.message);\n        }\n      }\n      try {\n        const newArticle = {\n          title: input.title,\n          summary: input.summary,\n          content: input.content,\n          imageUrl: input.imageUrl,\n          categories: input.categories,\n          published: input.published,\n          project: input.project,\n          date: formatDate(new Date()),\n        };\n        const response = await Article.createArticle(newArticle);\n        return response;\n      } catch (error) {\n        throw new Error(\"Error creating article: \" + error.message);\n      }\n    },\n    /* deleteArticle: async (_, { input }) => {\n        try {\n          const response = await Article.deleteOne({ _id: input.id });\n          return response;\n        } catch (error) {\n          throw new Error(\"Error deleting article: \" + error.message);\n        }\n      } */\n  },\n \n};\n\nmodule.exports = articleResolvers;\n"],"mappings":"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"}},"mtime":1704622209685},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/data/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server\",\"filename\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/data/models/article.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.13:development":{"value":{"code":"const mongoose = require('mongoose');\n\nconst articleSchema = new mongoose.Schema({\n  title: {\n    type: String,\n    required: true\n  },\n  summary: {\n    type: String,\n    required: true\n  },\n  content: {\n    type: String,\n    required: true\n  },\n  imageUrl: {\n    type: String,\n    required: true\n  },\n  date: {\n    type: String,\n    required: true\n  },\n  categories: {\n    type: [String],\n    required: false\n  },\n  published: {\n    type: Boolean,\n    required: true\n  },\n  project: {\n    type: Boolean,\n    required: true\n  }\n});\nconst Article = mongoose.model('Article', articleSchema);\n\nArticle.getAllPublishedArticles = async categories => {\n  if (categories.length > 0) {\n    try {\n      const articles = await Article.find({\n        published: true,\n        categories: {\n          $in: categories\n        }\n      });\n      return articles;\n    } catch (error) {\n      throw new Error('Error fetching published articles: ' + error.message);\n    }\n  } else {\n    try {\n      const articles = await Article.find({\n        published: true\n      });\n      return articles;\n    } catch (error) {\n      throw new Error('Error fetching published articles: ' + error.message);\n    }\n  }\n};\n\nArticle.getArticleById = async id => {\n  try {\n    const article = await Article.findOne({\n      _id: id\n    });\n    return article;\n  } catch (error) {\n    throw new Error('Error fetching article by ID: ' + error.message);\n  }\n};\n\nArticle.getArticlesByDate = async (from, to) => {\n  try {\n    const articles = await Article.find({\n      date: {\n        $gte: from,\n        $lte: to\n      }\n    });\n    return articles;\n  } catch (error) {\n    throw new Error('Error fetching articles by date range: ' + error.message);\n  }\n};\n\nArticle.getAllProjects = async () => {\n  try {\n    const articles = await Article.find({\n      project: true\n    });\n    return articles;\n  } catch (error) {\n    throw new Error('Error fetching project articles: ' + error.message);\n  }\n};\n\nArticle.getAllArticles = async () => {\n  try {\n    const articles = await Article.find({});\n    return articles;\n  } catch (error) {\n    throw new Error('Error fetching all articles: ' + error.message);\n  }\n};\n\nArticle.createArticle = async input => {\n  try {\n    const article = await Article.create(input);\n    return article;\n  } catch (error) {\n    throw new Error('Error creating article: ' + error.message);\n  }\n};\n\nmodule.exports = Article;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJhcnRpY2xlU2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJzdW1tYXJ5IiwiY29udGVudCIsImltYWdlVXJsIiwiZGF0ZSIsImNhdGVnb3JpZXMiLCJwdWJsaXNoZWQiLCJCb29sZWFuIiwicHJvamVjdCIsIkFydGljbGUiLCJtb2RlbCIsImdldEFsbFB1Ymxpc2hlZEFydGljbGVzIiwibGVuZ3RoIiwiYXJ0aWNsZXMiLCJmaW5kIiwiJGluIiwiZXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJnZXRBcnRpY2xlQnlJZCIsImlkIiwiYXJ0aWNsZSIsImZpbmRPbmUiLCJfaWQiLCJnZXRBcnRpY2xlc0J5RGF0ZSIsImZyb20iLCJ0byIsIiRndGUiLCIkbHRlIiwiZ2V0QWxsUHJvamVjdHMiLCJnZXRBbGxBcnRpY2xlcyIsImNyZWF0ZUFydGljbGUiLCJpbnB1dCIsImNyZWF0ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qYW1lc3N0b3JyL1Byb2plY3RzL1BvcnRmb2xpby9wb3J0Zm9saW8tYXBvbGxvLXNlcnZlci9zcmMvZGF0YS9tb2RlbHMvIiwic291cmNlcyI6WyJhcnRpY2xlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcblxuY29uc3QgYXJ0aWNsZVNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuXG4gICAgdGl0bGU6e1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgfSxcbiAgICBzdW1tYXJ5OntcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgY29udGVudDp7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIGltYWdlVXJsOntcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgZGF0ZTp7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIGNhdGVnb3JpZXM6e1xuICAgICAgICB0eXBlOiBbU3RyaW5nXSxcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXG4gICAgfSxcbiAgICBwdWJsaXNoZWQ6e1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgcHJvamVjdDp7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgfVxufSlcblxuY29uc3QgQXJ0aWNsZSA9IG1vbmdvb3NlLm1vZGVsKCdBcnRpY2xlJywgYXJ0aWNsZVNjaGVtYSk7XG5cbkFydGljbGUuZ2V0QWxsUHVibGlzaGVkQXJ0aWNsZXMgPSBhc3luYyAoY2F0ZWdvcmllcykgPT4ge1xuICAgIGlmKGNhdGVnb3JpZXMubGVuZ3RoPiAwKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGFydGljbGVzID0gYXdhaXQgQXJ0aWNsZS5maW5kKHsgcHVibGlzaGVkOiB0cnVlLCBjYXRlZ29yaWVzOiB7ICRpbjogY2F0ZWdvcmllcyB9IH0pO1xuICAgICAgICAgICAgcmV0dXJuIGFydGljbGVzO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGZldGNoaW5nIHB1Ymxpc2hlZCBhcnRpY2xlczogJyArIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBhcnRpY2xlcyA9IGF3YWl0IEFydGljbGUuZmluZCh7IHB1Ymxpc2hlZDogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHJldHVybiBhcnRpY2xlcztcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBmZXRjaGluZyBwdWJsaXNoZWQgYXJ0aWNsZXM6ICcgKyBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgfVxufVxuICBcbiAgQXJ0aWNsZS5nZXRBcnRpY2xlQnlJZCA9IGFzeW5jIChpZCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhcnRpY2xlID0gYXdhaXQgQXJ0aWNsZS5maW5kT25lKHsgX2lkOiBpZCB9KTtcbiAgICAgIHJldHVybiBhcnRpY2xlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFydGljbGUgYnkgSUQ6ICcgKyBlcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gIH07XG4gIFxuICBBcnRpY2xlLmdldEFydGljbGVzQnlEYXRlID0gYXN5bmMgKGZyb20sIHRvKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFydGljbGVzID0gYXdhaXQgQXJ0aWNsZS5maW5kKHsgZGF0ZTogeyAkZ3RlOiBmcm9tLCAkbHRlOiB0byB9IH0pO1xuICAgICAgcmV0dXJuIGFydGljbGVzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFydGljbGVzIGJ5IGRhdGUgcmFuZ2U6ICcgKyBlcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gIH07XG4gIFxuICBBcnRpY2xlLmdldEFsbFByb2plY3RzID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhcnRpY2xlcyA9IGF3YWl0IEFydGljbGUuZmluZCh7IHByb2plY3Q6IHRydWUgfSk7XG4gICAgICByZXR1cm4gYXJ0aWNsZXM7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgZmV0Y2hpbmcgcHJvamVjdCBhcnRpY2xlczogJyArIGVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbiAgfTtcbiAgXG4gIEFydGljbGUuZ2V0QWxsQXJ0aWNsZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFydGljbGVzID0gYXdhaXQgQXJ0aWNsZS5maW5kKHt9KTtcbiAgICAgIHJldHVybiBhcnRpY2xlcztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBmZXRjaGluZyBhbGwgYXJ0aWNsZXM6ICcgKyBlcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gIH07XG4gIFxuICBBcnRpY2xlLmNyZWF0ZUFydGljbGUgPSBhc3luYyAoaW5wdXQpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYXJ0aWNsZSA9IGF3YWl0IEFydGljbGUuY3JlYXRlKGlucHV0KTtcbiAgICAgIHJldHVybiBhcnRpY2xlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGFydGljbGU6ICcgKyBlcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gIH07XG4gbW9kdWxlLmV4cG9ydHMgPSBBcnRpY2xlOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBRCxDQUF4Qjs7QUFFQSxNQUFNQyxhQUFhLEdBQUcsSUFBSUYsUUFBUSxDQUFDRyxNQUFiLENBQW9CO0VBRXRDQyxLQUFLLEVBQUM7SUFDRkMsSUFBSSxFQUFFQyxNQURKO0lBRUZDLFFBQVEsRUFBRTtFQUZSLENBRmdDO0VBTXRDQyxPQUFPLEVBQUM7SUFDSkgsSUFBSSxFQUFFQyxNQURGO0lBRUpDLFFBQVEsRUFBRTtFQUZOLENBTjhCO0VBVXRDRSxPQUFPLEVBQUM7SUFDSkosSUFBSSxFQUFFQyxNQURGO0lBRUpDLFFBQVEsRUFBRTtFQUZOLENBVjhCO0VBY3RDRyxRQUFRLEVBQUM7SUFDTEwsSUFB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","map":{"version":3,"names":["mongoose","require","articleSchema","Schema","title","type","String","required","summary","content","imageUrl","date","categories","published","Boolean","project","Article","model","getAllPublishedArticles","length","articles","find","$in","error","Error","message","getArticleById","id","article","findOne","_id","getArticlesByDate","from","to","$gte","$lte","getAllProjects","getAllArticles","createArticle","input","create","module","exports"],"sourceRoot":"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/data/models/","sources":["article.js"],"sourcesContent":["const mongoose = require('mongoose');\n\nconst articleSchema = new mongoose.Schema({\n\n    title:{\n        type: String,\n        required: true\n    },\n    summary:{\n        type: String,\n        required: true\n    },\n    content:{\n        type: String,\n        required: true\n    },\n    imageUrl:{\n        type: String,\n        required: true\n    },\n    date:{\n        type: String,\n        required: true\n    },\n    categories:{\n        type: [String],\n        required: false\n    },\n    published:{\n        type: Boolean,\n        required: true\n    },\n    project:{\n        type: Boolean,\n        required: true\n    }\n})\n\nconst Article = mongoose.model('Article', articleSchema);\n\nArticle.getAllPublishedArticles = async (categories) => {\n    if(categories.length> 0){\n        try {\n            const articles = await Article.find({ published: true, categories: { $in: categories } });\n            return articles;\n          } catch (error) {\n            throw new Error('Error fetching published articles: ' + error.message);\n          }\n    }\n    else {\n        try {\n            const articles = await Article.find({ published: true });\n            return articles;\n          } catch (error) {\n            throw new Error('Error fetching published articles: ' + error.message);\n          }\n    }\n}\n  \n  Article.getArticleById = async (id) => {\n    try {\n      const article = await Article.findOne({ _id: id });\n      return article;\n    } catch (error) {\n      throw new Error('Error fetching article by ID: ' + error.message);\n    }\n  };\n  \n  Article.getArticlesByDate = async (from, to) => {\n    try {\n      const articles = await Article.find({ date: { $gte: from, $lte: to } });\n      return articles;\n    } catch (error) {\n      throw new Error('Error fetching articles by date range: ' + error.message);\n    }\n  };\n  \n  Article.getAllProjects = async () => {\n    try {\n      const articles = await Article.find({ project: true });\n      return articles;\n    } catch (error) {\n      throw new Error('Error fetching project articles: ' + error.message);\n    }\n  };\n  \n  Article.getAllArticles = async () => {\n    try {\n      const articles = await Article.find({});\n      return articles;\n    } catch (error) {\n      throw new Error('Error fetching all articles: ' + error.message);\n    }\n  };\n  \n  Article.createArticle = async (input) => {\n    try {\n      const article = await Article.create(input);\n      return article;\n    } catch (error) {\n      throw new Error('Error creating article: ' + error.message);\n    }\n  };\n module.exports = Article;"],"mappings":"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"}},"mtime":1704561627634},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/data/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server\",\"filename\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/data/connectors.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.13:development":{"value":{"code":"const mongoose = require(\"mongoose\");\n\nconst DATABASE_URI = process.env.MONGODB_URI;\nconst DATABASE_OPTIONS = {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n};\nmongoose.connect(DATABASE_URI, DATABASE_OPTIONS).then(() => {\n  console.log('Connected to MongoDB');\n}).catch(error => {\n  console.error(\"Error connecting to MongoDB:\", error);\n});\nmodule.exports = mongoose.connection;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJEQVRBQkFTRV9VUkkiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkkiLCJEQVRBQkFTRV9PUFRJT05TIiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiY29ubmVjdCIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnJvciIsIm1vZHVsZSIsImV4cG9ydHMiLCJjb25uZWN0aW9uIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamFtZXNzdG9yci9Qcm9qZWN0cy9Qb3J0Zm9saW8vcG9ydGZvbGlvLWFwb2xsby1zZXJ2ZXIvc3JjL2RhdGEvIiwic291cmNlcyI6WyJjb25uZWN0b3JzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XG5cbmNvbnN0IERBVEFCQVNFX1VSSSA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJO1xuY29uc3QgREFUQUJBU0VfT1BUSU9OUyA9IHtcbiAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXG59O1xuXG5tb25nb29zZVxuICAuY29ubmVjdChEQVRBQkFTRV9VUkksIERBVEFCQVNFX09QVElPTlMpXG4gIC50aGVuKCgpID0+IHsgXG4gICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBNb25nb0RCJyk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY29ubmVjdGluZyB0byBNb25nb0RCOlwiLCBlcnJvcik7XG4gIH0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1vbmdvb3NlLmNvbm5lY3Rpb247Il0sIm1hcHBpbmdzIjoiQUFDQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXhCOztBQUVBLE1BQU1DLFlBQVksR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFdBQWpDO0FBQ0EsTUFBTUMsZ0JBQWdCLEdBQUc7RUFDdkJDLGVBQWUsRUFBRSxJQURNO0VBRXZCQyxrQkFBa0IsRUFBRTtBQUZHLENBQXpCO0FBS0FSLFFBQVEsQ0FDTFMsT0FESCxDQUNXUCxZQURYLEVBQ3lCSSxnQkFEekIsRUFFR0ksSUFGSCxDQUVRLE1BQU07RUFDVkMsT0FBTyxDQUFDQyxHQUFSLENBQVksc0JBQVo7QUFDRCxDQUpILEVBS0dDLEtBTEgsQ0FLVUMsS0FBRCxJQUFXO0VBQ2hCSCxPQUFPLENBQUNHLEtBQVIsQ0FBYyw4QkFBZCxFQUE4Q0EsS0FBOUM7QUFDRCxDQVBIO0FBU0FDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmhCLFFBQVEsQ0FBQ2lCLFVBQTFCIn0=","map":{"version":3,"names":["mongoose","require","DATABASE_URI","process","env","MONGODB_URI","DATABASE_OPTIONS","useNewUrlParser","useUnifiedTopology","connect","then","console","log","catch","error","module","exports","connection"],"sourceRoot":"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/data/","sources":["connectors.js"],"sourcesContent":["\nconst mongoose = require(\"mongoose\");\n\nconst DATABASE_URI = process.env.MONGODB_URI;\nconst DATABASE_OPTIONS = {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n};\n\nmongoose\n  .connect(DATABASE_URI, DATABASE_OPTIONS)\n  .then(() => { \n    console.log('Connected to MongoDB');\n  })\n  .catch((error) => {\n    console.error(\"Error connecting to MongoDB:\", error);\n  });\n\nmodule.exports = mongoose.connection;"],"mappings":"AACA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAEA,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAR,CAAYC,WAAjC;AACA,MAAMC,gBAAgB,GAAG;EACvBC,eAAe,EAAE,IADM;EAEvBC,kBAAkB,EAAE;AAFG,CAAzB;AAKAR,QAAQ,CACLS,OADH,CACWP,YADX,EACyBI,gBADzB,EAEGI,IAFH,CAEQ,MAAM;EACVC,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACD,CAJH,EAKGC,KALH,CAKUC,KAAD,IAAW;EAChBH,OAAO,CAACG,KAAR,CAAc,8BAAd,EAA8CA,KAA9C;AACD,CAPH;AASAC,MAAM,CAACC,OAAP,GAAiBhB,QAAQ,CAACiB,UAA1B"}},"mtime":1704534147467},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/graphql/resolvers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server\",\"filename\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/graphql/resolvers/categoryResolvers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.13:development":{"value":{"code":"const Category = require('../../data/models/category');\n\nconst categoryResolvers = {\n  Query: {\n    getCategories: async () => {\n      try {\n        const categories = await Category.find({});\n        return categories;\n      } catch (error) {\n        throw new Error('Error fetching categories: ' + error.message);\n      }\n    }\n  },\n  Mutation: {\n    createCategory: async (_, {\n      categoryName\n    }) => {\n      try {\n        const newCategory = {\n          name: categoryName\n        };\n        const category = await Category.create(newCategory);\n        return category;\n      } catch (error) {\n        throw new Error('Error creating category: ' + error.message);\n      }\n    }\n  }\n};\nmodule.exports = categoryResolvers;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDYXRlZ29yeSIsInJlcXVpcmUiLCJjYXRlZ29yeVJlc29sdmVycyIsIlF1ZXJ5IiwiZ2V0Q2F0ZWdvcmllcyIsImNhdGVnb3JpZXMiLCJmaW5kIiwiZXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJNdXRhdGlvbiIsImNyZWF0ZUNhdGVnb3J5IiwiXyIsImNhdGVnb3J5TmFtZSIsIm5ld0NhdGVnb3J5IiwibmFtZSIsImNhdGVnb3J5IiwiY3JlYXRlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2phbWVzc3RvcnIvUHJvamVjdHMvUG9ydGZvbGlvL3BvcnRmb2xpby1hcG9sbG8tc2VydmVyL3NyYy9ncmFwaHFsL3Jlc29sdmVycy8iLCJzb3VyY2VzIjpbImNhdGVnb3J5UmVzb2x2ZXJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IENhdGVnb3J5ID0gcmVxdWlyZSgnLi4vLi4vZGF0YS9tb2RlbHMvY2F0ZWdvcnknKTtcblxuY29uc3QgY2F0ZWdvcnlSZXNvbHZlcnMgPSB7XG4gICAgUXVlcnk6IHtcbiAgICAgIGdldENhdGVnb3JpZXM6IGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBjYXRlZ29yaWVzID0gYXdhaXQgQ2F0ZWdvcnkuZmluZCh7fSk7XG4gICAgICAgICAgcmV0dXJuIGNhdGVnb3JpZXM7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBmZXRjaGluZyBjYXRlZ29yaWVzOiAnICsgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSxcbiAgICBNdXRhdGlvbjoge1xuICAgICAgICBjcmVhdGVDYXRlZ29yeTogYXN5bmMgKF8sIHsgY2F0ZWdvcnlOYW1lIH0pID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q2F0ZWdvcnkgPSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGNhdGVnb3J5TmFtZSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBDYXRlZ29yeS5jcmVhdGUobmV3Q2F0ZWdvcnkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBjcmVhdGluZyBjYXRlZ29yeTogJyArIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjYXRlZ29yeVJlc29sdmVycztcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsNEJBQUQsQ0FBeEI7O0FBRUEsTUFBTUMsaUJBQWlCLEdBQUc7RUFDdEJDLEtBQUssRUFBRTtJQUNMQyxhQUFhLEVBQUUsWUFBWTtNQUN6QixJQUFJO1FBQ0YsTUFBTUMsVUFBVSxHQUFHLE1BQU1MLFFBQVEsQ0FBQ00sSUFBVCxDQUFjLEVBQWQsQ0FBekI7UUFDQSxPQUFPRCxVQUFQO01BQ0QsQ0FIRCxDQUdFLE9BQU9FLEtBQVAsRUFBYztRQUNkLE1BQU0sSUFBSUMsS0FBSixDQUFVLGdDQUFnQ0QsS0FBSyxDQUFDRSxPQUFoRCxDQUFOO01BQ0Q7SUFDRjtFQVJJLENBRGU7RUFXdEJDLFFBQVEsRUFBRTtJQUNOQyxjQUFjLEVBQUUsT0FBT0MsQ0FBUCxFQUFVO01BQUVDO0lBQUYsQ0FBVixLQUErQjtNQUMzQyxJQUFJO1FBQ0EsTUFBTUMsV0FBVyxHQUFHO1VBQ2hCQyxJQUFJLEVBQUVGO1FBRFUsQ0FBcEI7UUFHQSxNQUFNRyxRQUFRLEdBQUcsTUFBTWhCLFFBQVEsQ0FBQ2lCLE1BQVQsQ0FBZ0JILFdBQWhCLENBQXZCO1FBQ0EsT0FBT0UsUUFBUDtNQUNILENBTkQsQ0FNRSxPQUFPVCxLQUFQLEVBQWM7UUFDWixNQUFNLElBQUlDLEtBQUosQ0FBVSw4QkFBOEJELEtBQUssQ0FBQ0UsT0FBOUMsQ0FBTjtNQUNIO0lBQ0o7RUFYSztBQVhZLENBQTFCO0FBMEJBUyxNQUFNLENBQUNDLE9BQVAsR0FBaUJqQixpQkFBakIifQ==","map":{"version":3,"names":["Category","require","categoryResolvers","Query","getCategories","categories","find","error","Error","message","Mutation","createCategory","_","categoryName","newCategory","name","category","create","module","exports"],"sourceRoot":"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/graphql/resolvers/","sources":["categoryResolvers.js"],"sourcesContent":["const Category = require('../../data/models/category');\n\nconst categoryResolvers = {\n    Query: {\n      getCategories: async () => {\n        try {\n          const categories = await Category.find({});\n          return categories;\n        } catch (error) {\n          throw new Error('Error fetching categories: ' + error.message);\n        }\n      },\n    },\n    Mutation: {\n        createCategory: async (_, { categoryName }) => {\n            try {\n                const newCategory = {\n                    name: categoryName,\n                }\n                const category = await Category.create(newCategory);\n                return category;\n            } catch (error) {\n                throw new Error('Error creating category: ' + error.message);\n            }\n        },\n    }\n}\n\nmodule.exports = categoryResolvers;\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,4BAAD,CAAxB;;AAEA,MAAMC,iBAAiB,GAAG;EACtBC,KAAK,EAAE;IACLC,aAAa,EAAE,YAAY;MACzB,IAAI;QACF,MAAMC,UAAU,GAAG,MAAML,QAAQ,CAACM,IAAT,CAAc,EAAd,CAAzB;QACA,OAAOD,UAAP;MACD,CAHD,CAGE,OAAOE,KAAP,EAAc;QACd,MAAM,IAAIC,KAAJ,CAAU,gCAAgCD,KAAK,CAACE,OAAhD,CAAN;MACD;IACF;EARI,CADe;EAWtBC,QAAQ,EAAE;IACNC,cAAc,EAAE,OAAOC,CAAP,EAAU;MAAEC;IAAF,CAAV,KAA+B;MAC3C,IAAI;QACA,MAAMC,WAAW,GAAG;UAChBC,IAAI,EAAEF;QADU,CAApB;QAGA,MAAMG,QAAQ,GAAG,MAAMhB,QAAQ,CAACiB,MAAT,CAAgBH,WAAhB,CAAvB;QACA,OAAOE,QAAP;MACH,CAND,CAME,OAAOT,KAAP,EAAc;QACZ,MAAM,IAAIC,KAAJ,CAAU,8BAA8BD,KAAK,CAACE,OAA9C,CAAN;MACH;IACJ;EAXK;AAXY,CAA1B;AA0BAS,MAAM,CAACC,OAAP,GAAiBjB,iBAAjB"}},"mtime":1704486732316},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/data/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server\",\"filename\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/data/models/category.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.13:development":{"value":{"code":"const mongoose = require(\"mongoose\");\n\nconst categorySchema = new mongoose.Schema({\n  name: {\n    type: String,\n    required: true\n  }\n});\nconst Category = mongoose.model('Category', categorySchema);\nmodule.exports = Category;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJjYXRlZ29yeVNjaGVtYSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJDYXRlZ29yeSIsIm1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2phbWVzc3RvcnIvUHJvamVjdHMvUG9ydGZvbGlvL3BvcnRmb2xpby1hcG9sbG8tc2VydmVyL3NyYy9kYXRhL21vZGVscy8iLCJzb3VyY2VzIjpbImNhdGVnb3J5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XG5cblxuY29uc3QgY2F0ZWdvcnlTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgICBuYW1lOntcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH1cbn0pO1xuXG5jb25zdCBDYXRlZ29yeSA9IG1vbmdvb3NlLm1vZGVsKCdDYXRlZ29yeScsIGNhdGVnb3J5U2NoZW1hKTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYXRlZ29yeTsiXSwibWFwcGluZ3MiOiJBQUNBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBeEI7O0FBR0EsTUFBTUMsY0FBYyxHQUFHLElBQUlGLFFBQVEsQ0FBQ0csTUFBYixDQUFvQjtFQUN2Q0MsSUFBSSxFQUFDO0lBQ0RDLElBQUksRUFBRUMsTUFETDtJQUVEQyxRQUFRLEVBQUU7RUFGVDtBQURrQyxDQUFwQixDQUF2QjtBQU9BLE1BQU1DLFFBQVEsR0FBR1IsUUFBUSxDQUFDUyxLQUFULENBQWUsVUFBZixFQUEyQlAsY0FBM0IsQ0FBakI7QUFFQVEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCSCxRQUFqQiJ9","map":{"version":3,"names":["mongoose","require","categorySchema","Schema","name","type","String","required","Category","model","module","exports"],"sourceRoot":"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/data/models/","sources":["category.js"],"sourcesContent":["\nconst mongoose = require(\"mongoose\");\n\n\nconst categorySchema = new mongoose.Schema({\n    name:{\n        type: String,\n        required: true\n    }\n});\n\nconst Category = mongoose.model('Category', categorySchema);\n\nmodule.exports = Category;"],"mappings":"AACA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAGA,MAAMC,cAAc,GAAG,IAAIF,QAAQ,CAACG,MAAb,CAAoB;EACvCC,IAAI,EAAC;IACDC,IAAI,EAAEC,MADL;IAEDC,QAAQ,EAAE;EAFT;AADkC,CAApB,CAAvB;AAOA,MAAMC,QAAQ,GAAGR,QAAQ,CAACS,KAAT,CAAe,UAAf,EAA2BP,cAA3B,CAAjB;AAEAQ,MAAM,CAACC,OAAP,GAAiBH,QAAjB"}},"mtime":1704486739608},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/graphql/resolvers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server\",\"filename\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/graphql/resolvers/userResolvers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.13:development":{"value":{"code":"const User = require(\"../../data/models/user\");\n\nconst jwt = require(\"jsonwebtoken\");\n\nconst createToken = user => {\n  const token = jwt.sign({\n    username: user.username,\n    id: user.id\n  }, process.env.SECRET, {\n    expiresIn: \"1d\"\n  });\n  return token;\n};\n\nconst userResolvers = {\n  Query: {},\n  Mutation: {\n    createUser: async (_, {\n      input\n    }, {\n      res\n    }) => {\n      try {\n        const newUser = {\n          username: input.username,\n          firstName: input.firstName,\n          lastName: input.lastName,\n          password: input.password\n        };\n        const user = await User.createUser(newUser);\n        token = createToken(user);\n        res.cookie(\"token\", token, {\n          httpOnly: true,\n          secure: process.env.NODE_ENV === \"production\",\n          // use secure in production\n          sameSite: \"lax\",\n          maxAge: 24 * 60 * 60 * 1000 // 1 day\n\n        });\n        return {\n          message: \"Authenticated\"\n        };\n      } catch (error) {\n        throw new Error(\"Error creating user: \" + error.message);\n      }\n    },\n    login: async (_, {\n      username,\n      password\n    }, {\n      res\n    }) => {\n      try {\n        const user = await User.findOne({\n          username: username\n        });\n        console.log(user);\n\n        if (user && User.verifyPassword(password, user.password)) {\n          token = createToken(user);\n          res.cookie(\"token\", token, {\n            httpOnly: true,\n            secure: process.env.NODE_ENV === \"production\",\n            // use secure in production\n            sameSite: \"lax\",\n            maxAge: 24 * 60 * 60 * 1000 // 1 day\n\n          });\n          return {\n            message: \"Authenticated\"\n          };\n        } else {\n          throw new Error(\"Wrong password\");\n        }\n      } catch (error) {\n        throw new Error(\"Error fetching users: \" + error.message);\n      }\n    }\n  }\n};\nmodule.exports = userResolvers;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsImp3dCIsImNyZWF0ZVRva2VuIiwidXNlciIsInRva2VuIiwic2lnbiIsInVzZXJuYW1lIiwiaWQiLCJwcm9jZXNzIiwiZW52IiwiU0VDUkVUIiwiZXhwaXJlc0luIiwidXNlclJlc29sdmVycyIsIlF1ZXJ5IiwiTXV0YXRpb24iLCJjcmVhdGVVc2VyIiwiXyIsImlucHV0IiwicmVzIiwibmV3VXNlciIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwicGFzc3dvcmQiLCJjb29raWUiLCJodHRwT25seSIsInNlY3VyZSIsIk5PREVfRU5WIiwic2FtZVNpdGUiLCJtYXhBZ2UiLCJtZXNzYWdlIiwiZXJyb3IiLCJFcnJvciIsImxvZ2luIiwiZmluZE9uZSIsImNvbnNvbGUiLCJsb2ciLCJ2ZXJpZnlQYXNzd29yZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qYW1lc3N0b3JyL1Byb2plY3RzL1BvcnRmb2xpby9wb3J0Zm9saW8tYXBvbGxvLXNlcnZlci9zcmMvZ3JhcGhxbC9yZXNvbHZlcnMvIiwic291cmNlcyI6WyJ1c2VyUmVzb2x2ZXJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFVzZXIgPSByZXF1aXJlKFwiLi4vLi4vZGF0YS9tb2RlbHMvdXNlclwiKTtcbmNvbnN0IGp3dCA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7XG5cbmNvbnN0IGNyZWF0ZVRva2VuID0gKHVzZXIpID0+IHtcbiAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbihcbiAgICB7IHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLCBpZDogdXNlci5pZCB9LFxuICAgIHByb2Nlc3MuZW52LlNFQ1JFVCxcbiAgICB7IGV4cGlyZXNJbjogXCIxZFwiIH1cbiAgKTtcbiAgcmV0dXJuIHRva2VuO1xufTtcblxuY29uc3QgdXNlclJlc29sdmVycyA9IHtcbiAgUXVlcnk6IHt9LFxuICBNdXRhdGlvbjoge1xuICAgIGNyZWF0ZVVzZXI6IGFzeW5jIChfLCB7IGlucHV0IH0sIHsgcmVzIH0pID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG5ld1VzZXIgPSB7XG4gICAgICAgICAgdXNlcm5hbWU6IGlucHV0LnVzZXJuYW1lLFxuICAgICAgICAgIGZpcnN0TmFtZTogaW5wdXQuZmlyc3ROYW1lLFxuICAgICAgICAgIGxhc3ROYW1lOiBpbnB1dC5sYXN0TmFtZSxcbiAgICAgICAgICBwYXNzd29yZDogaW5wdXQucGFzc3dvcmQsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuY3JlYXRlVXNlcihuZXdVc2VyKTtcbiAgICAgICAgdG9rZW4gPSBjcmVhdGVUb2tlbih1c2VyKTtcbiAgICAgICAgcmVzLmNvb2tpZShcInRva2VuXCIsIHRva2VuLCB7XG4gICAgICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiLCAvLyB1c2Ugc2VjdXJlIGluIHByb2R1Y3Rpb25cbiAgICAgICAgICAgIHNhbWVTaXRlOiBcImxheFwiLFxuICAgICAgICAgICAgbWF4QWdlOiAyNCAqIDYwICogNjAgKiAxMDAwLCAvLyAxIGRheVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHsgbWVzc2FnZTogXCJBdXRoZW50aWNhdGVkXCIgfTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yIGNyZWF0aW5nIHVzZXI6IFwiICsgZXJyb3IubWVzc2FnZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBsb2dpbjogYXN5bmMgKF8sIHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0sICB7IHJlcyB9KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgdXNlcm5hbWU6IHVzZXJuYW1lIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyh1c2VyKTtcbiAgICAgICAgaWYgKHVzZXIgJiYgVXNlci52ZXJpZnlQYXNzd29yZChwYXNzd29yZCwgdXNlci5wYXNzd29yZCkpIHtcbiAgICAgICAgICB0b2tlbiA9IGNyZWF0ZVRva2VuKHVzZXIpO1xuICAgICAgICAgIHJlcy5jb29raWUoXCJ0b2tlblwiLCB0b2tlbiwge1xuICAgICAgICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICAgICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiwgLy8gdXNlIHNlY3VyZSBpbiBwcm9kdWN0aW9uXG4gICAgICAgICAgICBzYW1lU2l0ZTogXCJsYXhcIixcbiAgICAgICAgICAgIG1heEFnZTogMjQgKiA2MCAqIDYwICogMTAwMCwgLy8gMSBkYXlcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBcIkF1dGhlbnRpY2F0ZWRcIiB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIldyb25nIHBhc3N3b3JkXCIpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBmZXRjaGluZyB1c2VyczogXCIgKyBlcnJvci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9LFxuICB9LFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB1c2VyUmVzb2x2ZXJzO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyx3QkFBRCxDQUFwQjs7QUFDQSxNQUFNQyxHQUFHLEdBQUdELE9BQU8sQ0FBQyxjQUFELENBQW5COztBQUVBLE1BQU1FLFdBQVcsR0FBSUMsSUFBRCxJQUFVO0VBQzVCLE1BQU1DLEtBQUssR0FBR0gsR0FBRyxDQUFDSSxJQUFKLENBQ1o7SUFBRUMsUUFBUSxFQUFFSCxJQUFJLENBQUNHLFFBQWpCO0lBQTJCQyxFQUFFLEVBQUVKLElBQUks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","map":{"version":3,"names":["User","require","jwt","createToken","user","token","sign","username","id","process","env","SECRET","expiresIn","userResolvers","Query","Mutation","createUser","_","input","res","newUser","firstName","lastName","password","cookie","httpOnly","secure","NODE_ENV","sameSite","maxAge","message","error","Error","login","findOne","console","log","verifyPassword","module","exports"],"sourceRoot":"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/graphql/resolvers/","sources":["userResolvers.js"],"sourcesContent":["const User = require(\"../../data/models/user\");\nconst jwt = require(\"jsonwebtoken\");\n\nconst createToken = (user) => {\n  const token = jwt.sign(\n    { username: user.username, id: user.id },\n    process.env.SECRET,\n    { expiresIn: \"1d\" }\n  );\n  return token;\n};\n\nconst userResolvers = {\n  Query: {},\n  Mutation: {\n    createUser: async (_, { input }, { res }) => {\n      try {\n        const newUser = {\n          username: input.username,\n          firstName: input.firstName,\n          lastName: input.lastName,\n          password: input.password,\n        };\n\n        const user = await User.createUser(newUser);\n        token = createToken(user);\n        res.cookie(\"token\", token, {\n            httpOnly: true,\n            secure: process.env.NODE_ENV === \"production\", // use secure in production\n            sameSite: \"lax\",\n            maxAge: 24 * 60 * 60 * 1000, // 1 day\n        });\n        return { message: \"Authenticated\" };\n      } catch (error) {\n        throw new Error(\"Error creating user: \" + error.message);\n      }\n    },\n    login: async (_, { username, password },  { res }) => {\n      try {\n        const user = await User.findOne({ username: username });\n        console.log(user);\n        if (user && User.verifyPassword(password, user.password)) {\n          token = createToken(user);\n          res.cookie(\"token\", token, {\n            httpOnly: true,\n            secure: process.env.NODE_ENV === \"production\", // use secure in production\n            sameSite: \"lax\",\n            maxAge: 24 * 60 * 60 * 1000, // 1 day\n          });\n          return { message: \"Authenticated\" };\n        } else {\n          throw new Error(\"Wrong password\");\n        }\n      } catch (error) {\n        throw new Error(\"Error fetching users: \" + error.message);\n      }\n    },\n  },\n};\n\nmodule.exports = userResolvers;\n"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,wBAAD,CAApB;;AACA,MAAMC,GAAG,GAAGD,OAAO,CAAC,cAAD,CAAnB;;AAEA,MAAME,WAAW,GAAIC,IAAD,IAAU;EAC5B,MAAMC,KAAK,GAAGH,GAAG,CAACI,IAAJ,CACZ;IAAEC,QAAQ,EAAEH,IAAI,CAACG,QAAjB;IAA2BC,EAAE,EAAEJ,IAAI,CAACI;EAApC,CADY,EAEZC,OAAO,CAACC,GAAR,CAAYC,MAFA,EAGZ;IAAEC,SAAS,EAAE;EAAb,CAHY,CAAd;EAKA,OAAOP,KAAP;AACD,CAPD;;AASA,MAAMQ,aAAa,GAAG;EACpBC,KAAK,EAAE,EADa;EAEpBC,QAAQ,EAAE;IACRC,UAAU,EAAE,OAAOC,CAAP,EAAU;MAAEC;IAAF,CAAV,EAAqB;MAAEC;IAAF,CAArB,KAAiC;MAC3C,IAAI;QACF,MAAMC,OAAO,GAAG;UACdb,QAAQ,EAAEW,KAAK,CAACX,QADF;UAEdc,SAAS,EAAEH,KAAK,CAACG,SAFH;UAGdC,QAAQ,EAAEJ,KAAK,CAACI,QAHF;UAIdC,QAAQ,EAAEL,KAAK,CAACK;QAJF,CAAhB;QAOA,MAAMnB,IAAI,GAAG,MAAMJ,IAAI,CAACgB,UAAL,CAAgBI,OAAhB,CAAnB;QACAf,KAAK,GAAGF,WAAW,CAACC,IAAD,CAAnB;QACAe,GAAG,CAACK,MAAJ,CAAW,OAAX,EAAoBnB,KAApB,EAA2B;UACvBoB,QAAQ,EAAE,IADa;UAEvBC,MAAM,EAAEjB,OAAO,CAACC,GAAR,CAAYiB,QAAZ,KAAyB,YAFV;UAEwB;UAC/CC,QAAQ,EAAE,KAHa;UAIvBC,MAAM,EAAE,KAAK,EAAL,GAAU,EAAV,GAAe,IAJA,CAIM;;QAJN,CAA3B;QAMA,OAAO;UAAEC,OAAO,EAAE;QAAX,CAAP;MACD,CAjBD,CAiBE,OAAOC,KAAP,EAAc;QACd,MAAM,IAAIC,KAAJ,CAAU,0BAA0BD,KAAK,CAACD,OAA1C,CAAN;MACD;IACF,CAtBO;IAuBRG,KAAK,EAAE,OAAOhB,CAAP,EAAU;MAAEV,QAAF;MAAYgB;IAAZ,CAAV,EAAmC;MAAEJ;IAAF,CAAnC,KAA+C;MACpD,IAAI;QACF,MAAMf,IAAI,GAAG,MAAMJ,IAAI,CAACkC,OAAL,CAAa;UAAE3B,QAAQ,EAAEA;QAAZ,CAAb,CAAnB;QACA4B,OAAO,CAACC,GAAR,CAAYhC,IAAZ;;QACA,IAAIA,IAAI,IAAIJ,IAAI,CAACqC,cAAL,CAAoBd,QAApB,EAA8BnB,IAAI,CAACmB,QAAnC,CAAZ,EAA0D;UACxDlB,KAAK,GAAGF,WAAW,CAACC,IAAD,CAAnB;UACAe,GAAG,CAACK,MAAJ,CAAW,OAAX,EAAoBnB,KAApB,EAA2B;YACzBoB,QAAQ,EAAE,IADe;YAEzBC,MAAM,EAAEjB,OAAO,CAACC,GAAR,CAAYiB,QAAZ,KAAyB,YAFR;YAEsB;YAC/CC,QAAQ,EAAE,KAHe;YAIzBC,MAAM,EAAE,KAAK,EAAL,GAAU,EAAV,GAAe,IAJE,CAII;;UAJJ,CAA3B;UAMA,OAAO;YAAEC,OAAO,EAAE;UAAX,CAAP;QACD,CATD,MASO;UACL,MAAM,IAAIE,KAAJ,CAAU,gBAAV,CAAN;QACD;MACF,CAfD,CAeE,OAAOD,KAAP,EAAc;QACd,MAAM,IAAIC,KAAJ,CAAU,2BAA2BD,KAAK,CAACD,OAA3C,CAAN;MACD;IACF;EA1CO;AAFU,CAAtB;AAgDAQ,MAAM,CAACC,OAAP,GAAiB1B,aAAjB"}},"mtime":1704621173027},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/data/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server\",\"filename\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/data/models/user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.13:development":{"value":{"code":"const mongoose = require('mongoose');\n\nconst bcrypt = require('bcrypt');\n\nconst userSchema = new mongoose.Schema({\n  username: {\n    type: String,\n    required: true\n  },\n  firstName: {\n    type: String,\n    required: false\n  },\n  lastName: {\n    type: String,\n    required: false\n  },\n  password: {\n    type: String,\n    required: true\n  }\n});\nconst User = mongoose.model('User', userSchema);\n\nUser.createUser = async newUser => {\n  try {\n    const user = new User({\n      username: newUser.username,\n      firstName: newUser.firstName,\n      lastName: newUser.lastName,\n      password: await User.generatePassword(newUser.password)\n    });\n    const response = await user.save();\n    return response;\n  } catch (error) {\n    throw new Error('Error creating user: ' + error.message);\n  }\n};\n\nUser.verifyPassword = async (password, hash) => {\n  const match = await bcrypt.compare(password, hash);\n  return match;\n};\n\nUser.generatePassword = async password => {\n  const saltRounds = 10;\n  const hash = await bcrypt.hash(password, saltRounds);\n  return hash;\n};\n\nmodule.exports = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJiY3J5cHQiLCJ1c2VyU2NoZW1hIiwiU2NoZW1hIiwidXNlcm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInBhc3N3b3JkIiwiVXNlciIsIm1vZGVsIiwiY3JlYXRlVXNlciIsIm5ld1VzZXIiLCJ1c2VyIiwiZ2VuZXJhdGVQYXNzd29yZCIsInJlc3BvbnNlIiwic2F2ZSIsImVycm9yIiwiRXJyb3IiLCJtZXNzYWdlIiwidmVyaWZ5UGFzc3dvcmQiLCJoYXNoIiwibWF0Y2giLCJjb21wYXJlIiwic2FsdFJvdW5kcyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qYW1lc3N0b3JyL1Byb2plY3RzL1BvcnRmb2xpby9wb3J0Zm9saW8tYXBvbGxvLXNlcnZlci9zcmMvZGF0YS9tb2RlbHMvIiwic291cmNlcyI6WyJ1c2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdCcpO1xuXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gICAgdXNlcm5hbWU6e1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgfSxcbiAgICBmaXJzdE5hbWU6e1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZVxuICAgIH0sXG4gICAgbGFzdE5hbWU6e1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZVxuICAgIH0sXG4gICAgcGFzc3dvcmQ6e1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgfVxufSk7XG5cbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbCgnVXNlcicsIHVzZXJTY2hlbWEpO1xuXG5Vc2VyLmNyZWF0ZVVzZXIgPSBhc3luYyAobmV3VXNlcikgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcihcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogbmV3VXNlci51c2VybmFtZSxcbiAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IG5ld1VzZXIuZmlyc3ROYW1lLFxuICAgICAgICAgICAgICAgIGxhc3ROYW1lOiBuZXdVc2VyLmxhc3ROYW1lLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IGF3YWl0IFVzZXIuZ2VuZXJhdGVQYXNzd29yZChuZXdVc2VyLnBhc3N3b3JkKVxuICAgICAgICB9KVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBjcmVhdGluZyB1c2VyOiAnICsgZXJyb3IubWVzc2FnZSk7XG4gICAgfVxufVxuXG5Vc2VyLnZlcmlmeVBhc3N3b3JkID0gYXN5bmMgKHBhc3N3b3JkLCBoYXNoKSA9PiB7XG4gICAgY29uc3QgbWF0Y2ggPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgaGFzaCk7XG4gICAgcmV0dXJuIG1hdGNoO1xufVxuXG5Vc2VyLmdlbmVyYXRlUGFzc3dvcmQgPSBhc3luYyAocGFzc3dvcmQpID0+IHtcbiAgICBjb25zdCBzYWx0Um91bmRzID0gMTA7XG4gICAgY29uc3QgaGFzaCA9IGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCBzYWx0Um91bmRzKTtcbiAgICByZXR1cm4gaGFzaDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBVc2VyO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXhCOztBQUNBLE1BQU1DLE1BQU0sR0FBR0QsT0FBTyxDQUFDLFFBQUQsQ0FBdEI7O0FBRUEsTUFBTUUsVUFBVSxHQUFHLElBQUlILFFBQVEsQ0FBQ0ksTUFBYixDQUFvQjtFQUNuQ0MsUUFBUSxFQUFDO0lBQ0xDLElBQUksRUFBRUMsTUFERDtJQUVMQyxRQUFRLEVBQUU7RUFGTCxDQUQwQjtFQUtuQ0MsU0FBUyxFQUFDO0lBQ05ILElBQUksRUFBRUMsTUFEQTtJQUVOQyxRQUFRLEVBQUU7RUFGSixDQUx5QjtFQVNuQ0UsUUFBUSxFQUFDO0lBQ0xKLElBQUksRUFBRUMsTUFERDtJQUVMQyxRQUFRLEVBQUU7RUFGTCxDQVQwQjtFQWFuQ0csUUFBUSxFQUFDO0lBQ0xMLElBQUksRUFBRUMsTUFERDtJQUVMQyxRQUFRLEVBQUU7RUFGTDtBQWIwQixDQUFwQixDQUFuQjtBQW1CQSxNQUFNSSxJQUFJLEdBQUdaLFFBQVEsQ0FBQ2EsS0FBVCxDQUFlLE1BQWYsRUFBdUJWLFVBQXZCLENBQWI7O0FBRUFTLElBQUksQ0FBQ0UsVUFBTCxHQUFrQixNQUFPQyxPQUFQLElBQW1CO0VBQ2pDLElBQUk7SUFDQSxNQUFNQyxJQUFJLEdBQUcsSUFBSUosSUFBSixDQUNUO01BQ0lQLFFBQVEsRUFBRVUsT0FBTyxDQUFDVixRQUR0QjtNQUVJSSxTQUFTLEVBQUVNLE9BQU8sQ0FBQ04sU0FGdkI7TUFHSUMsUUFBUSxFQUFFSyxPQUFPLENBQUNMLFFBSHRCO01BSUFDLFFBQVEsRUFBRSxNQUFNQyxJQUFJLENBQUNLLGdCQUFMLENBQXNCRixPQUFPLENBQUNKLFFBQTlCO0lBSmhCLENBRFMsQ0FBYjtJQU9BLE1BQU1PLFFBQVEsR0FBRyxNQUFNRixJQUFJLENBQUNHLElBQUwsRUFBdkI7SUFDQSxPQUFPRCxRQUFQO0VBQ0gsQ0FWRCxDQVVFLE9BQU9FLEtBQVAsRUFBYztJQUNaLE1BQU0sSUFBSUMsS0FBSixDQUFVLDBCQUEwQkQsS0FBSyxDQUFDRSxPQUExQyxDQUFOO0VBQ0g7QUFDSixDQWREOztBQWdCQVYsSUFBSSxDQUFDVyxjQUFMLEdBQXNCLE9BQU9aLFFBQVAsRUFBaUJhLElBQWpCLEtBQTBCO0VBQzVDLE1BQU1DLEtBQUssR0FBRyxNQUFNdkIsTUFBTSxDQUFDd0IsT0FBUCxDQUFlZixRQUFmLEVBQXlCYSxJQUF6QixDQUFwQjtFQUNBLE9BQU9DLEtBQVA7QUFDSCxDQUhEOztBQUtBYixJQUFJLENBQUNLLGdCQUFMLEdBQXdCLE1BQU9OLFFBQVAsSUFBb0I7RUFDeEMsTUFBTWdCLFVBQVUsR0FBRyxFQUFuQjtFQUNBLE1BQU1ILElBQUksR0FBRyxNQUFNdEIsTUFBTSxDQUFDc0IsSUFBUCxDQUFZYixRQUFaLEVBQXNCZ0IsVUFBdEIsQ0FBbkI7RUFDQSxPQUFPSCxJQUFQO0FBQ0gsQ0FKRDs7QUFNQUksTUFBTSxDQUFDQyxPQUFQLEdBQWlCakIsSUFBakIifQ==","map":{"version":3,"names":["mongoose","require","bcrypt","userSchema","Schema","username","type","String","required","firstName","lastName","password","User","model","createUser","newUser","user","generatePassword","response","save","error","Error","message","verifyPassword","hash","match","compare","saltRounds","module","exports"],"sourceRoot":"/Users/jamesstorr/Projects/Portfolio/portfolio-apollo-server/src/data/models/","sources":["user.js"],"sourcesContent":["const mongoose = require('mongoose');\nconst bcrypt = require('bcrypt');\n\nconst userSchema = new mongoose.Schema({\n    username:{\n        type: String,\n        required: true\n    },\n    firstName:{\n        type: String,\n        required: false\n    },\n    lastName:{\n        type: String,\n        required: false\n    },\n    password:{\n        type: String,\n        required: true\n    }\n});\n\nconst User = mongoose.model('User', userSchema);\n\nUser.createUser = async (newUser) => {\n    try {\n        const user = new User(\n            {\n                username: newUser.username,\n                firstName: newUser.firstName,\n                lastName: newUser.lastName,\n            password: await User.generatePassword(newUser.password)\n        })\n        const response = await user.save();\n        return response;\n    } catch (error) {\n        throw new Error('Error creating user: ' + error.message);\n    }\n}\n\nUser.verifyPassword = async (password, hash) => {\n    const match = await bcrypt.compare(password, hash);\n    return match;\n}\n\nUser.generatePassword = async (password) => {\n    const saltRounds = 10;\n    const hash = await bcrypt.hash(password, saltRounds);\n    return hash;\n}\n\nmodule.exports = User;\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAtB;;AAEA,MAAME,UAAU,GAAG,IAAIH,QAAQ,CAACI,MAAb,CAAoB;EACnCC,QAAQ,EAAC;IACLC,IAAI,EAAEC,MADD;IAELC,QAAQ,EAAE;EAFL,CAD0B;EAKnCC,SAAS,EAAC;IACNH,IAAI,EAAEC,MADA;IAENC,QAAQ,EAAE;EAFJ,CALyB;EASnCE,QAAQ,EAAC;IACLJ,IAAI,EAAEC,MADD;IAELC,QAAQ,EAAE;EAFL,CAT0B;EAanCG,QAAQ,EAAC;IACLL,IAAI,EAAEC,MADD;IAELC,QAAQ,EAAE;EAFL;AAb0B,CAApB,CAAnB;AAmBA,MAAMI,IAAI,GAAGZ,QAAQ,CAACa,KAAT,CAAe,MAAf,EAAuBV,UAAvB,CAAb;;AAEAS,IAAI,CAACE,UAAL,GAAkB,MAAOC,OAAP,IAAmB;EACjC,IAAI;IACA,MAAMC,IAAI,GAAG,IAAIJ,IAAJ,CACT;MACIP,QAAQ,EAAEU,OAAO,CAACV,QADtB;MAEII,SAAS,EAAEM,OAAO,CAACN,SAFvB;MAGIC,QAAQ,EAAEK,OAAO,CAACL,QAHtB;MAIAC,QAAQ,EAAE,MAAMC,IAAI,CAACK,gBAAL,CAAsBF,OAAO,CAACJ,QAA9B;IAJhB,CADS,CAAb;IAOA,MAAMO,QAAQ,GAAG,MAAMF,IAAI,CAACG,IAAL,EAAvB;IACA,OAAOD,QAAP;EACH,CAVD,CAUE,OAAOE,KAAP,EAAc;IACZ,MAAM,IAAIC,KAAJ,CAAU,0BAA0BD,KAAK,CAACE,OAA1C,CAAN;EACH;AACJ,CAdD;;AAgBAV,IAAI,CAACW,cAAL,GAAsB,OAAOZ,QAAP,EAAiBa,IAAjB,KAA0B;EAC5C,MAAMC,KAAK,GAAG,MAAMvB,MAAM,CAACwB,OAAP,CAAef,QAAf,EAAyBa,IAAzB,CAApB;EACA,OAAOC,KAAP;AACH,CAHD;;AAKAb,IAAI,CAACK,gBAAL,GAAwB,MAAON,QAAP,IAAoB;EACxC,MAAMgB,UAAU,GAAG,EAAnB;EACA,MAAMH,IAAI,GAAG,MAAMtB,MAAM,CAACsB,IAAP,CAAYb,QAAZ,EAAsBgB,UAAtB,CAAnB;EACA,OAAOH,IAAP;AACH,CAJD;;AAMAI,MAAM,CAACC,OAAP,GAAiBjB,IAAjB"}},"mtime":1704538071912}}