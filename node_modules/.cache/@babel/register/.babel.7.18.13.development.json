{"{\"assumptions\":{},\"sourceRoot\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services\",\"filename\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.13:development":{"value":{"code":"const express = require('express');\n\nrequire('dotenv').config();\n\nconst {\n  ApolloServer\n} = require('apollo-server-express');\n\nconst typeDefs = require('./graphql/schema');\n\nconst resolvers = require('./graphql/resolvers');\n\nconst dbconnection = require('./data/connectors');\n\nconst cors = require('cors');\n\nconst cookieParser = require('cookie-parser');\n\nconst app = express();\nconst corsOptions = {\n  origin: process.env.ORIGIN,\n  // Replace with your client's domain\n  credentials: true\n};\napp.use(cors(corsOptions));\napp.use(cookieParser());\n\nasync function startApolloServer() {\n  const server = new ApolloServer({\n    typeDefs,\n    resolvers,\n    context: async ({\n      req,\n      res\n    }) => {\n      const token = req.cookies['token'] || '';\n      return {\n        token,\n        res\n      };\n    }\n  });\n  await server.start(); // Ensure the server is started before applying middleware\n\n  server.applyMiddleware({\n    app,\n    path: '/graphql',\n    cors: corsOptions\n  });\n  const port = 8080;\n  app.listen({\n    port: port\n  }, () => {\n    console.log(`Apollo Server on port ${port}/graphql`);\n  });\n}\n\nstartApolloServer().catch(error => {\n  console.error('Error starting Apollo Server:', error);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNvbmZpZyIsIkFwb2xsb1NlcnZlciIsInR5cGVEZWZzIiwicmVzb2x2ZXJzIiwiZGJjb25uZWN0aW9uIiwiY29ycyIsImNvb2tpZVBhcnNlciIsImFwcCIsImNvcnNPcHRpb25zIiwib3JpZ2luIiwicHJvY2VzcyIsImVudiIsIk9SSUdJTiIsImNyZWRlbnRpYWxzIiwidXNlIiwic3RhcnRBcG9sbG9TZXJ2ZXIiLCJzZXJ2ZXIiLCJjb250ZXh0IiwicmVxIiwicmVzIiwidG9rZW4iLCJjb29raWVzIiwic3RhcnQiLCJhcHBseU1pZGRsZXdhcmUiLCJwYXRoIiwicG9ydCIsImxpc3RlbiIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamFtZXNzdG9yci9Qcm9qZWN0cy9Qb3J0Zm9saW8vcG9ydGZvbGlvLXNlcnZpY2VzL3NyYy8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XG5yZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKTtcbmNvbnN0IHsgQXBvbGxvU2VydmVyIH0gPSByZXF1aXJlKCdhcG9sbG8tc2VydmVyLWV4cHJlc3MnKTtcbmNvbnN0IHR5cGVEZWZzID0gcmVxdWlyZSgnLi9ncmFwaHFsL3NjaGVtYScpO1xuY29uc3QgcmVzb2x2ZXJzID0gcmVxdWlyZSgnLi9ncmFwaHFsL3Jlc29sdmVycycpO1xuY29uc3QgZGJjb25uZWN0aW9uID0gcmVxdWlyZSgnLi9kYXRhL2Nvbm5lY3RvcnMnKTtcbmNvbnN0IGNvcnMgPSByZXF1aXJlKCdjb3JzJyk7XG5jb25zdCBjb29raWVQYXJzZXIgPSByZXF1aXJlKCdjb29raWUtcGFyc2VyJyk7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuXG5cbmNvbnN0IGNvcnNPcHRpb25zID0ge1xuICBvcmlnaW46IHByb2Nlc3MuZW52Lk9SSUdJTiwgLy8gUmVwbGFjZSB3aXRoIHlvdXIgY2xpZW50J3MgZG9tYWluXG4gIGNyZWRlbnRpYWxzOiB0cnVlLFxufTtcblxuYXBwLnVzZShjb3JzKGNvcnNPcHRpb25zKSk7XG5hcHAudXNlKGNvb2tpZVBhcnNlcigpKTtcblxuYXN5bmMgZnVuY3Rpb24gc3RhcnRBcG9sbG9TZXJ2ZXIoKSB7XG4gIGNvbnN0IHNlcnZlciA9IG5ldyBBcG9sbG9TZXJ2ZXIoeyBcbiAgICB0eXBlRGVmcywgXG4gICAgcmVzb2x2ZXJzLFxuICAgIGNvbnRleHQ6IGFzeW5jICh7IHJlcSwgcmVzIH0pID0+IHtcbiAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXNbJ3Rva2VuJ10gfHwgJyc7XG4gICAgICByZXR1cm4geyB0b2tlbiwgcmVzIH07XG4gICAgfSxcbiAgfSk7XG5cbiAgYXdhaXQgc2VydmVyLnN0YXJ0KCk7IC8vIEVuc3VyZSB0aGUgc2VydmVyIGlzIHN0YXJ0ZWQgYmVmb3JlIGFwcGx5aW5nIG1pZGRsZXdhcmVcbiAgXG4gIHNlcnZlci5hcHBseU1pZGRsZXdhcmUoeyBhcHAsIHBhdGg6ICcvZ3JhcGhxbCcsIGNvcnM6IGNvcnNPcHRpb25zIH0pO1xuICBjb25zdCBwb3J0ID0gODA4MDtcbiAgYXBwLmxpc3Rlbih7IHBvcnQ6IHBvcnQgfSwgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGBBcG9sbG8gU2VydmVyIG9uIHBvcnQgJHtwb3J0fS9ncmFwaHFsYCk7XG4gIH0pO1xufVxuXG5zdGFydEFwb2xsb1NlcnZlcigpLmNhdGNoKChlcnJvcikgPT4ge1xuICBjb25zb2xlLmVycm9yKCdFcnJvciBzdGFydGluZyBBcG9sbG8gU2VydmVyOicsIGVycm9yKTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFDQSxNQUFNO0VBQUVDO0FBQUYsSUFBbUJGLE9BQU8sQ0FBQyx1QkFBRCxDQUFoQzs7QUFDQSxNQUFNRyxRQUFRLEdBQUdILE9BQU8sQ0FBQyxrQkFBRCxDQUF4Qjs7QUFDQSxNQUFNSSxTQUFTLEdBQUdKLE9BQU8sQ0FBQyxxQkFBRCxDQUF6Qjs7QUFDQSxNQUFNSyxZQUFZLEdBQUdMLE9BQU8sQ0FBQyxtQkFBRCxDQUE1Qjs7QUFDQSxNQUFNTSxJQUFJLEdBQUdOLE9BQU8sQ0FBQyxNQUFELENBQXBCOztBQUNBLE1BQU1PLFlBQVksR0FBR1AsT0FBTyxDQUFDLGVBQUQsQ0FBNUI7O0FBRUEsTUFBTVEsR0FBRyxHQUFHVCxPQUFPLEVBQW5CO0FBSUEsTUFBTVUsV0FBVyxHQUFHO0VBQ2xCQyxNQUFNLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxNQURGO0VBQ1U7RUFDNUJDLFdBQVcsRUFBRTtBQUZLLENBQXBCO0FBS0FOLEdBQUcsQ0FBQ08sR0FBSixDQUFRVCxJQUFJLENBQUNHLFdBQUQsQ0FBWjtBQUNBRCxHQUFHLENBQUNPLEdBQUosQ0FBUVIsWUFBWSxFQUFwQjs7QUFFQSxlQUFlUyxpQkFBZixHQUFtQztFQUNqQyxNQUFNQyxNQUFNLEdBQUcsSUFBSWYsWUFBSixDQUFpQjtJQUM5QkMsUUFEOEI7SUFFOUJDLFNBRjhCO0lBRzlCYyxPQUFPLEVBQUUsT0FBTztNQUFFQyxHQUFGO01BQU9DO0lBQVAsQ0FBUCxLQUF3QjtNQUMvQixNQUFNQyxLQUFLLEdBQUdGLEdBQUcsQ0FBQ0csT0FBSixDQUFZLE9BQVosS0FBd0IsRUFBdEM7TUFDQSxPQUFPO1FBQUVELEtBQUY7UUFBU0Q7TUFBVCxDQUFQO0lBQ0Q7RUFONkIsQ0FBakIsQ0FBZjtFQVNBLE1BQU1ILE1BQU0sQ0FBQ00sS0FBUCxFQUFOLENBVmlDLENBVVg7O0VBRXRCTixNQUFNLENBQUNPLGVBQVAsQ0FBdUI7SUFBRWhCLEdBQUY7SUFBT2lCLElBQUksRUFBRSxVQUFiO0lBQXlCbkIsSUFBSSxFQUFFRztFQUEvQixDQUF2QjtFQUNBLE1BQU1pQixJQUFJLEdBQUcsSUFBYjtFQUNBbEIsR0FBRyxDQUFDbUIsTUFBSixDQUFXO0lBQUVELElBQUksRUFBRUE7RUFBUixDQUFYLEVBQTJCLE1BQU07SUFDL0JFLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLHlCQUF3QkgsSUFBSyxVQUExQztFQUNELENBRkQ7QUFHRDs7QUFFRFYsaUJBQWlCLEdBQUdjLEtBQXBCLENBQTJCQyxLQUFELElBQVc7RUFDbkNILE9BQU8sQ0FBQ0csS0FBUixDQUFjLCtCQUFkLEVBQStDQSxLQUEvQztBQUNELENBRkQifQ==","map":{"version":3,"names":["express","require","config","ApolloServer","typeDefs","resolvers","dbconnection","cors","cookieParser","app","corsOptions","origin","process","env","ORIGIN","credentials","use","startApolloServer","server","context","req","res","token","cookies","start","applyMiddleware","path","port","listen","console","log","catch","error"],"sourceRoot":"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/","sources":["index.js"],"sourcesContent":["const express = require('express');\nrequire('dotenv').config();\nconst { ApolloServer } = require('apollo-server-express');\nconst typeDefs = require('./graphql/schema');\nconst resolvers = require('./graphql/resolvers');\nconst dbconnection = require('./data/connectors');\nconst cors = require('cors');\nconst cookieParser = require('cookie-parser');\n\nconst app = express();\n\n\n\nconst corsOptions = {\n  origin: process.env.ORIGIN, // Replace with your client's domain\n  credentials: true,\n};\n\napp.use(cors(corsOptions));\napp.use(cookieParser());\n\nasync function startApolloServer() {\n  const server = new ApolloServer({ \n    typeDefs, \n    resolvers,\n    context: async ({ req, res }) => {\n      const token = req.cookies['token'] || '';\n      return { token, res };\n    },\n  });\n\n  await server.start(); // Ensure the server is started before applying middleware\n  \n  server.applyMiddleware({ app, path: '/graphql', cors: corsOptions });\n  const port = 8080;\n  app.listen({ port: port }, () => {\n    console.log(`Apollo Server on port ${port}/graphql`);\n  });\n}\n\nstartApolloServer().catch((error) => {\n  console.error('Error starting Apollo Server:', error);\n});\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AACA,MAAM;EAAEC;AAAF,IAAmBF,OAAO,CAAC,uBAAD,CAAhC;;AACA,MAAMG,QAAQ,GAAGH,OAAO,CAAC,kBAAD,CAAxB;;AACA,MAAMI,SAAS,GAAGJ,OAAO,CAAC,qBAAD,CAAzB;;AACA,MAAMK,YAAY,GAAGL,OAAO,CAAC,mBAAD,CAA5B;;AACA,MAAMM,IAAI,GAAGN,OAAO,CAAC,MAAD,CAApB;;AACA,MAAMO,YAAY,GAAGP,OAAO,CAAC,eAAD,CAA5B;;AAEA,MAAMQ,GAAG,GAAGT,OAAO,EAAnB;AAIA,MAAMU,WAAW,GAAG;EAClBC,MAAM,EAAEC,OAAO,CAACC,GAAR,CAAYC,MADF;EACU;EAC5BC,WAAW,EAAE;AAFK,CAApB;AAKAN,GAAG,CAACO,GAAJ,CAAQT,IAAI,CAACG,WAAD,CAAZ;AACAD,GAAG,CAACO,GAAJ,CAAQR,YAAY,EAApB;;AAEA,eAAeS,iBAAf,GAAmC;EACjC,MAAMC,MAAM,GAAG,IAAIf,YAAJ,CAAiB;IAC9BC,QAD8B;IAE9BC,SAF8B;IAG9Bc,OAAO,EAAE,OAAO;MAAEC,GAAF;MAAOC;IAAP,CAAP,KAAwB;MAC/B,MAAMC,KAAK,GAAGF,GAAG,CAACG,OAAJ,CAAY,OAAZ,KAAwB,EAAtC;MACA,OAAO;QAAED,KAAF;QAASD;MAAT,CAAP;IACD;EAN6B,CAAjB,CAAf;EASA,MAAMH,MAAM,CAACM,KAAP,EAAN,CAViC,CAUX;;EAEtBN,MAAM,CAACO,eAAP,CAAuB;IAAEhB,GAAF;IAAOiB,IAAI,EAAE,UAAb;IAAyBnB,IAAI,EAAEG;EAA/B,CAAvB;EACA,MAAMiB,IAAI,GAAG,IAAb;EACAlB,GAAG,CAACmB,MAAJ,CAAW;IAAED,IAAI,EAAEA;EAAR,CAAX,EAA2B,MAAM;IAC/BE,OAAO,CAACC,GAAR,CAAa,yBAAwBH,IAAK,UAA1C;EACD,CAFD;AAGD;;AAEDV,iBAAiB,GAAGc,KAApB,CAA2BC,KAAD,IAAW;EACnCH,OAAO,CAACG,KAAR,CAAc,+BAAd,EAA+CA,KAA/C;AACD,CAFD"}},"mtime":1704666927351},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/graphql/schema/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services\",\"filename\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/graphql/schema/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.13:development":{"value":{"code":"const {\n  gql\n} = require('apollo-server-express');\n\nconst typeDefs = gql`\ntype Query {\n    getAllPublishedArticles(categories: [String]): [Article!]\n    getArticleById(id: String!): Article\n    getArticlesByDate(from: String!, to: String!): [Article!]\n    getCategories: [Category]\n    getAllProjects: [Article!]\n    getAllArticles: [Article!]\n}\n\ninput ArticleInput {\n    title: String!\n    summary: String!\n    content: String!\n    imageUrl: String!\n    categories: [String]\n    published: Boolean!\n    project: Boolean!\n    id: String\n}\n\ninput UserInput {\n    username: String!\n    password: String!\n    firstName: String\n    lastName: String\n}\n\ntype Mutation {\n    createArticle(input: ArticleInput!): Article!\n    createCategory(categoryName: String!): Category!\n    login(username: String!, password: String!): AuthConfirm!\n    createUser(input:UserInput!): AuthConfirm!\n}\n\ntype Article {\n    id: String\n    title: String\n    summary: String\n    content: String\n    imageUrl: String\n    date: String\n    categories: [String]\n    published: Boolean\n    project: Boolean\n}\n\ntype Category {\n    id: String\n    name: String\n}\n\ntype Token {\n    token: String!\n}\n\ntype AuthConfirm {\n    message: String!\n}\n`;\nmodule.exports = typeDefs;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJncWwiLCJyZXF1aXJlIiwidHlwZURlZnMiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamFtZXNzdG9yci9Qcm9qZWN0cy9Qb3J0Zm9saW8vcG9ydGZvbGlvLXNlcnZpY2VzL3NyYy9ncmFwaHFsL3NjaGVtYS8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3QgeyBncWwgfSA9IHJlcXVpcmUoJ2Fwb2xsby1zZXJ2ZXItZXhwcmVzcycpO1xuXG5jb25zdCB0eXBlRGVmcyA9IGdxbGBcbnR5cGUgUXVlcnkge1xuICAgIGdldEFsbFB1Ymxpc2hlZEFydGljbGVzKGNhdGVnb3JpZXM6IFtTdHJpbmddKTogW0FydGljbGUhXVxuICAgIGdldEFydGljbGVCeUlkKGlkOiBTdHJpbmchKTogQXJ0aWNsZVxuICAgIGdldEFydGljbGVzQnlEYXRlKGZyb206IFN0cmluZyEsIHRvOiBTdHJpbmchKTogW0FydGljbGUhXVxuICAgIGdldENhdGVnb3JpZXM6IFtDYXRlZ29yeV1cbiAgICBnZXRBbGxQcm9qZWN0czogW0FydGljbGUhXVxuICAgIGdldEFsbEFydGljbGVzOiBbQXJ0aWNsZSFdXG59XG5cbmlucHV0IEFydGljbGVJbnB1dCB7XG4gICAgdGl0bGU6IFN0cmluZyFcbiAgICBzdW1tYXJ5OiBTdHJpbmchXG4gICAgY29udGVudDogU3RyaW5nIVxuICAgIGltYWdlVXJsOiBTdHJpbmchXG4gICAgY2F0ZWdvcmllczogW1N0cmluZ11cbiAgICBwdWJsaXNoZWQ6IEJvb2xlYW4hXG4gICAgcHJvamVjdDogQm9vbGVhbiFcbiAgICBpZDogU3RyaW5nXG59XG5cbmlucHV0IFVzZXJJbnB1dCB7XG4gICAgdXNlcm5hbWU6IFN0cmluZyFcbiAgICBwYXNzd29yZDogU3RyaW5nIVxuICAgIGZpcnN0TmFtZTogU3RyaW5nXG4gICAgbGFzdE5hbWU6IFN0cmluZ1xufVxuXG50eXBlIE11dGF0aW9uIHtcbiAgICBjcmVhdGVBcnRpY2xlKGlucHV0OiBBcnRpY2xlSW5wdXQhKTogQXJ0aWNsZSFcbiAgICBjcmVhdGVDYXRlZ29yeShjYXRlZ29yeU5hbWU6IFN0cmluZyEpOiBDYXRlZ29yeSFcbiAgICBsb2dpbih1c2VybmFtZTogU3RyaW5nISwgcGFzc3dvcmQ6IFN0cmluZyEpOiBBdXRoQ29uZmlybSFcbiAgICBjcmVhdGVVc2VyKGlucHV0OlVzZXJJbnB1dCEpOiBBdXRoQ29uZmlybSFcbn1cblxudHlwZSBBcnRpY2xlIHtcbiAgICBpZDogU3RyaW5nXG4gICAgdGl0bGU6IFN0cmluZ1xuICAgIHN1bW1hcnk6IFN0cmluZ1xuICAgIGNvbnRlbnQ6IFN0cmluZ1xuICAgIGltYWdlVXJsOiBTdHJpbmdcbiAgICBkYXRlOiBTdHJpbmdcbiAgICBjYXRlZ29yaWVzOiBbU3RyaW5nXVxuICAgIHB1Ymxpc2hlZDogQm9vbGVhblxuICAgIHByb2plY3Q6IEJvb2xlYW5cbn1cblxudHlwZSBDYXRlZ29yeSB7XG4gICAgaWQ6IFN0cmluZ1xuICAgIG5hbWU6IFN0cmluZ1xufVxuXG50eXBlIFRva2VuIHtcbiAgICB0b2tlbjogU3RyaW5nIVxufVxuXG50eXBlIEF1dGhDb25maXJtIHtcbiAgICBtZXNzYWdlOiBTdHJpbmchXG59XG5gO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gdHlwZURlZnM7Il0sIm1hcHBpbmdzIjoiQUFDQSxNQUFNO0VBQUVBO0FBQUYsSUFBVUMsT0FBTyxDQUFDLHVCQUFELENBQXZCOztBQUVBLE1BQU1DLFFBQVEsR0FBR0YsR0FBSTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBM0RBO0FBOERBRyxNQUFNLENBQUNDLE9BQVAsR0FBaUJGLFFBQWpCIn0=","map":{"version":3,"names":["gql","require","typeDefs","module","exports"],"sourceRoot":"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/graphql/schema/","sources":["index.js"],"sourcesContent":["\nconst { gql } = require('apollo-server-express');\n\nconst typeDefs = gql`\ntype Query {\n    getAllPublishedArticles(categories: [String]): [Article!]\n    getArticleById(id: String!): Article\n    getArticlesByDate(from: String!, to: String!): [Article!]\n    getCategories: [Category]\n    getAllProjects: [Article!]\n    getAllArticles: [Article!]\n}\n\ninput ArticleInput {\n    title: String!\n    summary: String!\n    content: String!\n    imageUrl: String!\n    categories: [String]\n    published: Boolean!\n    project: Boolean!\n    id: String\n}\n\ninput UserInput {\n    username: String!\n    password: String!\n    firstName: String\n    lastName: String\n}\n\ntype Mutation {\n    createArticle(input: ArticleInput!): Article!\n    createCategory(categoryName: String!): Category!\n    login(username: String!, password: String!): AuthConfirm!\n    createUser(input:UserInput!): AuthConfirm!\n}\n\ntype Article {\n    id: String\n    title: String\n    summary: String\n    content: String\n    imageUrl: String\n    date: String\n    categories: [String]\n    published: Boolean\n    project: Boolean\n}\n\ntype Category {\n    id: String\n    name: String\n}\n\ntype Token {\n    token: String!\n}\n\ntype AuthConfirm {\n    message: String!\n}\n`;\n\n\nmodule.exports = typeDefs;"],"mappings":"AACA,MAAM;EAAEA;AAAF,IAAUC,OAAO,CAAC,uBAAD,CAAvB;;AAEA,MAAMC,QAAQ,GAAGF,GAAI;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CA3DA;AA8DAG,MAAM,CAACC,OAAP,GAAiBF,QAAjB"}},"mtime":1704541664668},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/graphql/resolvers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services\",\"filename\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/graphql/resolvers/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.13:development":{"value":{"code":"const articleResolvers = require('./articleResolvers');\n\nconst categoryResolvers = require('./categoryResolvers');\n\nconst userResolvers = require('./userResolvers');\n\nconst resolvers = [articleResolvers, categoryResolvers, userResolvers];\nmodule.exports = resolvers;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcnRpY2xlUmVzb2x2ZXJzIiwicmVxdWlyZSIsImNhdGVnb3J5UmVzb2x2ZXJzIiwidXNlclJlc29sdmVycyIsInJlc29sdmVycyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qYW1lc3N0b3JyL1Byb2plY3RzL1BvcnRmb2xpby9wb3J0Zm9saW8tc2VydmljZXMvc3JjL2dyYXBocWwvcmVzb2x2ZXJzLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYXJ0aWNsZVJlc29sdmVycyA9IHJlcXVpcmUoJy4vYXJ0aWNsZVJlc29sdmVycycpO1xuY29uc3QgY2F0ZWdvcnlSZXNvbHZlcnMgPSByZXF1aXJlKCcuL2NhdGVnb3J5UmVzb2x2ZXJzJyk7XG5jb25zdCB1c2VyUmVzb2x2ZXJzID0gcmVxdWlyZSgnLi91c2VyUmVzb2x2ZXJzJyk7XG5cbmNvbnN0IHJlc29sdmVycyA9IFthcnRpY2xlUmVzb2x2ZXJzLCBjYXRlZ29yeVJlc29sdmVycywgdXNlclJlc29sdmVyc107XG5cbm1vZHVsZS5leHBvcnRzID0gcmVzb2x2ZXJzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxnQkFBZ0IsR0FBR0MsT0FBTyxDQUFDLG9CQUFELENBQWhDOztBQUNBLE1BQU1DLGlCQUFpQixHQUFHRCxPQUFPLENBQUMscUJBQUQsQ0FBakM7O0FBQ0EsTUFBTUUsYUFBYSxHQUFHRixPQUFPLENBQUMsaUJBQUQsQ0FBN0I7O0FBRUEsTUFBTUcsU0FBUyxHQUFHLENBQUNKLGdCQUFELEVBQW1CRSxpQkFBbkIsRUFBc0NDLGFBQXRDLENBQWxCO0FBRUFFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQkYsU0FBakIifQ==","map":{"version":3,"names":["articleResolvers","require","categoryResolvers","userResolvers","resolvers","module","exports"],"sourceRoot":"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/graphql/resolvers/","sources":["index.js"],"sourcesContent":["const articleResolvers = require('./articleResolvers');\nconst categoryResolvers = require('./categoryResolvers');\nconst userResolvers = require('./userResolvers');\n\nconst resolvers = [articleResolvers, categoryResolvers, userResolvers];\n\nmodule.exports = resolvers"],"mappings":"AAAA,MAAMA,gBAAgB,GAAGC,OAAO,CAAC,oBAAD,CAAhC;;AACA,MAAMC,iBAAiB,GAAGD,OAAO,CAAC,qBAAD,CAAjC;;AACA,MAAME,aAAa,GAAGF,OAAO,CAAC,iBAAD,CAA7B;;AAEA,MAAMG,SAAS,GAAG,CAACJ,gBAAD,EAAmBE,iBAAnB,EAAsCC,aAAtC,CAAlB;AAEAE,MAAM,CAACC,OAAP,GAAiBF,SAAjB"}},"mtime":1704536377793},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/graphql/resolvers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services\",\"filename\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/graphql/resolvers/articleResolvers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.13:development":{"value":{"code":"const {\n  format\n} = require(\"path\");\n\nconst Article = require(\"../../data/models/article\");\n\nconst jwt = require(\"jsonwebtoken\");\n\nfunction verifyToken(token, secret) {\n  try {\n    const decoded = jwt.verify(token, secret);\n    return decoded;\n  } catch (error) {\n    throw new Error(error.message);\n  }\n}\n\nfunction formatDate(date) {\n  const year = date.getFullYear();\n  const month = String(date.getMonth() + 1).padStart(2, '0');\n  const day = String(date.getDate()).padStart(2, '0');\n  return `${day}-${month}-${year}`;\n}\n\nconst articleResolvers = {\n  Query: {\n    getAllPublishedArticles: async (_, {\n      categories\n    }) => {\n      console.log(categories);\n\n      try {\n        const articles = await Article.getAllPublishedArticles(categories);\n        return articles;\n      } catch (error) {\n        throw new Error(\"Error fetching published articles: \" + error.message);\n      }\n    },\n    getArticleById: async (_, {\n      id\n    }) => {\n      try {\n        const article = await Article.getArticleById(id);\n        return article;\n      } catch (error) {\n        throw new Error(\"Error fetching article by ID: \" + error.message);\n      }\n    },\n    getArticlesByDate: async (_, {\n      from,\n      to\n    }) => {\n      try {\n        const articles = await Article.getArticlesByDate(from, to);\n        return articles;\n      } catch (error) {\n        throw new Error(\"Error fetching articles by date: \" + error.message);\n      }\n    },\n    getAllProjects: async () => {\n      try {\n        const articles = await Article.getAllProjects();\n        return articles;\n      } catch (error) {\n        throw new Error(\"Error fetching projects: \" + error.message);\n      }\n    },\n    getAllArticles: async (_, args, context) => {\n      const {\n        token\n      } = context;\n\n      if (!token) {\n        throw new Error('Authentication required');\n      }\n\n      const decoded = verifyToken(token, process.env.SECRET);\n\n      try {\n        const articles = await Article.getAllArticles();\n        return articles;\n      } catch (error) {\n        throw new Error(\"Error fetching all articles: \" + error.message);\n      }\n    }\n  },\n  Mutation: {\n    createArticle: async (_, {\n      input\n    }) => {\n      if (input.id) {\n        try {\n          const updatedArticle = {\n            title: input.title,\n            summary: input.summary,\n            content: input.content,\n            imageUrl: input.imageUrl,\n            categories: input.categories,\n            published: input.published,\n            project: input.project,\n            date: formatDate(new Date())\n          };\n          const response = await Article.updateOne({\n            _id: input.id\n          }, updatedArticle);\n          return response;\n        } catch (error) {\n          throw new Error(\"Error updating article: \" + error.message);\n        }\n      }\n\n      try {\n        const newArticle = {\n          title: input.title,\n          summary: input.summary,\n          content: input.content,\n          imageUrl: input.imageUrl,\n          categories: input.categories,\n          published: input.published,\n          project: input.project,\n          date: formatDate(new Date())\n        };\n        const response = await Article.createArticle(newArticle);\n        return response;\n      } catch (error) {\n        throw new Error(\"Error creating article: \" + error.message);\n      }\n    }\n    /* deleteArticle: async (_, { input }) => {\n        try {\n          const response = await Article.deleteOne({ _id: input.id });\n          return response;\n        } catch (error) {\n          throw new Error(\"Error deleting article: \" + error.message);\n        }\n      } */\n\n  }\n};\nmodule.exports = articleResolvers;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmb3JtYXQiLCJyZXF1aXJlIiwiQXJ0aWNsZSIsImp3dCIsInZlcmlmeVRva2VuIiwidG9rZW4iLCJzZWNyZXQiLCJkZWNvZGVkIiwidmVyaWZ5IiwiZXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJmb3JtYXREYXRlIiwiZGF0ZSIsInllYXIiLCJnZXRGdWxsWWVhciIsIm1vbnRoIiwiU3RyaW5nIiwiZ2V0TW9udGgiLCJwYWRTdGFydCIsImRheSIsImdldERhdGUiLCJhcnRpY2xlUmVzb2x2ZXJzIiwiUXVlcnkiLCJnZXRBbGxQdWJsaXNoZWRBcnRpY2xlcyIsIl8iLCJjYXRlZ29yaWVzIiwiY29uc29sZSIsImxvZyIsImFydGljbGVzIiwiZ2V0QXJ0aWNsZUJ5SWQiLCJpZCIsImFydGljbGUiLCJnZXRBcnRpY2xlc0J5RGF0ZSIsImZyb20iLCJ0byIsImdldEFsbFByb2plY3RzIiwiZ2V0QWxsQXJ0aWNsZXMiLCJhcmdzIiwiY29udGV4dCIsInByb2Nlc3MiLCJlbnYiLCJTRUNSRVQiLCJNdXRhdGlvbiIsImNyZWF0ZUFydGljbGUiLCJpbnB1dCIsInVwZGF0ZWRBcnRpY2xlIiwidGl0bGUiLCJzdW1tYXJ5IiwiY29udGVudCIsImltYWdlVXJsIiwicHVibGlzaGVkIiwicHJvamVjdCIsIkRhdGUiLCJyZXNwb25zZSIsInVwZGF0ZU9uZSIsIl9pZCIsIm5ld0FydGljbGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamFtZXNzdG9yci9Qcm9qZWN0cy9Qb3J0Zm9saW8vcG9ydGZvbGlvLXNlcnZpY2VzL3NyYy9ncmFwaHFsL3Jlc29sdmVycy8iLCJzb3VyY2VzIjpbImFydGljbGVSZXNvbHZlcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBmb3JtYXQgfSA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuY29uc3QgQXJ0aWNsZSA9IHJlcXVpcmUoXCIuLi8uLi9kYXRhL21vZGVscy9hcnRpY2xlXCIpO1xuY29uc3Qgand0ID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcblxuZnVuY3Rpb24gdmVyaWZ5VG9rZW4odG9rZW4sIHNlY3JldCkge1xuICB0cnkge1xuICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBzZWNyZXQpO1xuXG4gICAgcmV0dXJuIGRlY29kZWQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSkge1xuICAgIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgY29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICBjb25zdCBkYXkgPSBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgcmV0dXJuIGAke2RheX0tJHttb250aH0tJHt5ZWFyfWA7XG4gIH1cblxuY29uc3QgYXJ0aWNsZVJlc29sdmVycyA9IHtcbiAgUXVlcnk6IHtcbiAgICBnZXRBbGxQdWJsaXNoZWRBcnRpY2xlczogYXN5bmMgKF8sIHsgY2F0ZWdvcmllcyB9KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGNhdGVnb3JpZXMpXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBhcnRpY2xlcyA9IGF3YWl0IEFydGljbGUuZ2V0QWxsUHVibGlzaGVkQXJ0aWNsZXMoY2F0ZWdvcmllcyk7XG4gICAgICAgIHJldHVybiBhcnRpY2xlcztcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yIGZldGNoaW5nIHB1Ymxpc2hlZCBhcnRpY2xlczogXCIgKyBlcnJvci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldEFydGljbGVCeUlkOiBhc3luYyAoXywgeyBpZCB9KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBhcnRpY2xlID0gYXdhaXQgQXJ0aWNsZS5nZXRBcnRpY2xlQnlJZChpZCk7XG4gICAgICAgIHJldHVybiBhcnRpY2xlO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgYXJ0aWNsZSBieSBJRDogXCIgKyBlcnJvci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldEFydGljbGVzQnlEYXRlOiBhc3luYyAoXywgeyBmcm9tLCB0byB9KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBhcnRpY2xlcyA9IGF3YWl0IEFydGljbGUuZ2V0QXJ0aWNsZXNCeURhdGUoZnJvbSwgdG8pO1xuICAgICAgICByZXR1cm4gYXJ0aWNsZXM7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBmZXRjaGluZyBhcnRpY2xlcyBieSBkYXRlOiBcIiArIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0QWxsUHJvamVjdHM6IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGFydGljbGVzID0gYXdhaXQgQXJ0aWNsZS5nZXRBbGxQcm9qZWN0cygpO1xuICAgICAgICByZXR1cm4gYXJ0aWNsZXM7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBmZXRjaGluZyBwcm9qZWN0czogXCIgKyBlcnJvci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldEFsbEFydGljbGVzOiBhc3luYyAoXywgYXJncywgY29udGV4dCkgPT4ge1xuICAgICAgICBjb25zdCB7dG9rZW59ID0gY29udGV4dDtcbiAgICAgICAgXG4gICAgICAgIGlmKCF0b2tlbil7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVjb2RlZCA9IHZlcmlmeVRva2VuKHRva2VuLCBwcm9jZXNzLmVudi5TRUNSRVQpO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBhcnRpY2xlcyA9IGF3YWl0IEFydGljbGUuZ2V0QWxsQXJ0aWNsZXMoKTtcbiAgICAgICAgcmV0dXJuIGFydGljbGVzO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgYWxsIGFydGljbGVzOiBcIiArIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH0sXG4gIH0sXG4gIE11dGF0aW9uOiB7XG4gICAgY3JlYXRlQXJ0aWNsZTogYXN5bmMgKF8sIHsgaW5wdXQgfSkgPT4ge1xuICAgICAgaWYgKGlucHV0LmlkKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgdXBkYXRlZEFydGljbGUgPSB7XG4gICAgICAgICAgICB0aXRsZTogaW5wdXQudGl0bGUsXG4gICAgICAgICAgICBzdW1tYXJ5OiBpbnB1dC5zdW1tYXJ5LFxuICAgICAgICAgICAgY29udGVudDogaW5wdXQuY29udGVudCxcbiAgICAgICAgICAgIGltYWdlVXJsOiBpbnB1dC5pbWFnZVVybCxcbiAgICAgICAgICAgIGNhdGVnb3JpZXM6IGlucHV0LmNhdGVnb3JpZXMsXG4gICAgICAgICAgICBwdWJsaXNoZWQ6IGlucHV0LnB1Ymxpc2hlZCxcbiAgICAgICAgICAgIHByb2plY3Q6IGlucHV0LnByb2plY3QsXG4gICAgICAgICAgICBkYXRlOiBmb3JtYXREYXRlKG5ldyBEYXRlKCkpLFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBBcnRpY2xlLnVwZGF0ZU9uZShcbiAgICAgICAgICAgIHsgX2lkOiBpbnB1dC5pZCB9LFxuICAgICAgICAgICAgdXBkYXRlZEFydGljbGVcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciB1cGRhdGluZyBhcnRpY2xlOiBcIiArIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBuZXdBcnRpY2xlID0ge1xuICAgICAgICAgIHRpdGxlOiBpbnB1dC50aXRsZSxcbiAgICAgICAgICBzdW1tYXJ5OiBpbnB1dC5zdW1tYXJ5LFxuICAgICAgICAgIGNvbnRlbnQ6IGlucHV0LmNvbnRlbnQsXG4gICAgICAgICAgaW1hZ2VVcmw6IGlucHV0LmltYWdlVXJsLFxuICAgICAgICAgIGNhdGVnb3JpZXM6IGlucHV0LmNhdGVnb3JpZXMsXG4gICAgICAgICAgcHVibGlzaGVkOiBpbnB1dC5wdWJsaXNoZWQsXG4gICAgICAgICAgcHJvamVjdDogaW5wdXQucHJvamVjdCxcbiAgICAgICAgICBkYXRlOiBmb3JtYXREYXRlKG5ldyBEYXRlKCkpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEFydGljbGUuY3JlYXRlQXJ0aWNsZShuZXdBcnRpY2xlKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgY3JlYXRpbmcgYXJ0aWNsZTogXCIgKyBlcnJvci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8qIGRlbGV0ZUFydGljbGU6IGFzeW5jIChfLCB7IGlucHV0IH0pID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEFydGljbGUuZGVsZXRlT25lKHsgX2lkOiBpbnB1dC5pZCB9KTtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgZGVsZXRpbmcgYXJ0aWNsZTogXCIgKyBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgfSAqL1xuICB9LFxuIFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBhcnRpY2xlUmVzb2x2ZXJzO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNO0VBQUVBO0FBQUYsSUFBYUMsT0FBTyxDQUFDLE1BQUQsQ0FBMUI7O0FBQ0EsTUFBTUMsT0FBTyxHQUFHRCxPQUFPLENBQUMsMkJBQUQsQ0FBdkI7O0FBQ0EsTUFBTUUsR0FBRyxHQUFHRixPQUFPLENBQUMsY0FBRCxDQUFuQjs7QUFFQSxTQUFTRyxXQUFULENBQXFCQyxLQUFyQixFQUE0QkMsTUFBNUIsRUFBb0M7RUFDbEMsSUFBSTtJQUNGLE1BQU1DLE9BQU8sR0FBR0osR0FBRyxDQUFDSyxNQUFKLENBQVdILEtBQVgsRUFBa0JDLE1BQWxCLENBQWhCO0lBRUEsT0FBT0MsT0FBUDtFQUNELENBSkQsQ0FJRSxPQUFPRSxLQUFQLEVBQWM7SUFDZCxNQUFNLElBQUlDLEtBQUosQ0FBVUQsS0FBSyxDQUFDRSxPQUFoQixDQUFOO0VBQ0Q7QUFDRjs7QUFFRCxTQUFTQyxVQUFULENBQW9CQyxJQUFwQixFQUEwQjtFQUN0QixNQUFNQyxJQUFJLEdBQUdELElBQUksQ0FBQ0UsV0FBTCxFQUFiO0VBQ0EsTUFBTUMsS0FBSyxHQUFHQyxNQUFNLENBQUNKLElBQUksQ0FBQ0ssUUFBTCxLQUFrQixDQUFuQixDQUFOLENBQTRCQyxRQUE1QixDQUFxQyxDQUFyQyxFQUF3QyxHQUF4QyxDQUFkO0VBQ0EsTUFBTUMsR0FBRyxHQUFHSCxNQUFNLENBQUNKLElBQUksQ0FBQ1EsT0FBTCxFQUFELENBQU4sQ0FBdUJGLFFBQXZCLENBQWdDLENBQWhDLEVBQW1DLEdBQW5DLENBQVo7RUFDQSxPQUFRLEdBQUVDLEdBQUksSUFBR0osS0FBTSxJQUFHRixJQUFLLEVBQS9CO0FBQ0Q7O0FBRUgsTUFBTVEsZ0JBQWdCLEdBQUc7RUFDdkJDLEtBQUssRUFBRTtJQUNMQyx1QkFBdUIsRUFBRSxPQUFPQyxDQUFQLEVBQVU7TUFBRUM7SUFBRixDQUFWLEtBQTZCO01BQ2xEQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsVUFBWjs7TUFDRixJQUFJO1FBQ0YsTUFBTUcsUUFBUSxHQUFHLE1BQU0zQixPQUFPLENBQUNzQix1QkFBUixDQUFnQ0UsVUFBaEMsQ0FBdkI7UUFDQSxPQUFPRyxRQUFQO01BQ0QsQ0FIRCxDQUdFLE9BQU9wQixLQUFQLEVBQWM7UUFDZCxNQUFNLElBQUlDLEtBQUosQ0FBVSx3Q0FBd0NELEtBQUssQ0FBQ0UsT0FBeEQsQ0FBTjtNQUNEO0lBQ0YsQ0FUSTtJQVVMbUIsY0FBYyxFQUFFLE9BQU9MLENBQVAsRUFBVTtNQUFFTTtJQUFGLENBQVYsS0FBcUI7TUFDbkMsSUFBSTtRQUNGLE1BQU1DLE9BQU8sR0FBRyxNQUFNOUIsT0FBTyxDQUFDNEIsY0FBUixDQUF1QkMsRUFBdkIsQ0FBdEI7UUFDQSxPQUFPQyxPQUFQO01BQ0QsQ0FIRCxDQUdFLE9BQU92QixLQUFQLEVBQWM7UUFDZCxNQUFNLElBQUlDLEtBQUosQ0FBVSxtQ0FBbUNELEtBQUssQ0FBQ0UsT0FBbkQsQ0FBTjtNQUNEO0lBQ0YsQ0FqQkk7SUFrQkxzQixpQkFBaUIsRUFBRSxPQUFPUixDQUFQLEVBQVU7TUFBRVMsSUFBRjtNQUFRQztJQUFSLENBQVYsS0FBMkI7TUFDNUMsSUFBSTtRQUNGLE1BQU1OLFFBQVEsR0FBRyxNQUFNM0IsT0FBTyxDQUFDK0IsaUJBQVIsQ0FBMEJDLElBQTFCLEVBQWdDQyxFQUFoQyxDQUF2QjtRQUNBLE9BQU9OLFFBQVA7TUFDRCxDQUhELENBR0UsT0FBT3BCLEtBQVAsRUFBYztRQUNkLE1BQU0sSUFBSUMsS0FBSixDQUFVLHNDQUFzQ0QsS0FBSyxDQUFDRSxPQUF0RCxDQUFOO01BQ0Q7SUFDRixDQXpCSTtJQTBCTHlCLGNBQWMsRUFBRSxZQUFZO01BQzFCLElBQUk7UUFDRixNQUFNUCxRQUFRLEdBQUcsTUFBTTNCLE9BQU8sQ0FBQ2tDLGNBQVIsRUFBdkI7UUFDQSxPQUFPUCxRQUFQO01BQ0QsQ0FIRCxDQUdFLE9BQU9wQixLQUFQLEVBQWM7UUFDZCxNQUFNLElBQUlDLEtBQUosQ0FBVSw4QkFBOEJELEtBQUssQ0FBQ0UsT0FBOUMsQ0FBTjtNQUNEO0lBQ0YsQ0FqQ0k7SUFrQ0wwQixjQUFjLEVBQUUsT0FBT1osQ0FBUCxFQUFVYSxJQUFWLEVBQWdCQyxPQUFoQixLQUE0QjtNQUN4QyxNQUFNO1FBQUNsQztNQUFELElBQVVrQyxPQUFoQjs7TUFFQSxJQUFHLENBQUNsQyxLQUFKLEVBQVU7UUFDTixNQUFNLElBQUlLLEtBQUosQ0FBVSx5QkFBVixDQUFOO01BQ0g7O01BQ0QsTUFBTUgsT0FBTyxHQUFHSCxXQUFXLENBQUNDLEtBQUQsRUFBUW1DLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxNQUFwQixDQUEzQjs7TUFFRixJQUFJO1FBQ0YsTUFBTWIsUUFBUSxHQUFHLE1BQU0zQixPQUFPLENBQUNtQyxjQUFSLEVBQXZCO1FBQ0EsT0FBT1IsUUFBUDtNQUNELENBSEQsQ0FHRSxPQUFPcEIsS0FBUCxFQUFjO1FBQ2QsTUFBTSxJQUFJQyxLQUFKLENBQVUsa0NBQWtDRCxLQUFLLENBQUNFLE9BQWxELENBQU47TUFDRDtJQUNGO0VBaERJLENBRGdCO0VBbUR2QmdDLFFBQVEsRUFBRTtJQUNSQyxhQUFhLEVBQUUsT0FBT25CLENBQVAsRUFBVTtNQUFFb0I7SUFBRixDQUFWLEtBQXdCO01BQ3JDLElBQUlBLEtBQUssQ0FBQ2QsRUFBVixFQUFjO1FBQ1osSUFBSTtVQUNGLE1BQU1lLGNBQWMsR0FBRztZQUNyQkMsS0FBSyxFQUFFRixLQUFLLENBQUNFLEtBRFE7WUFFckJDLE9BQU8sRUFBRUgsS0FBSyxDQUFDRyxPQUZNO1lBR3JCQyxPQUFPLEVBQUVKLEtBQUssQ0FBQ0ksT0FITTtZQUlyQkMsUUFBUSxFQUFFTCxLQUFLLENBQUNLLFFBSks7WUFLckJ4QixVQUFVLEVBQUVtQixLQUFLLENBQUNuQixVQUxHO1lBTXJCeUIsU0FBUyxFQUFFTixLQUFLLENBQUNNLFNBTkk7WUFPckJDLE9BQU8sRUFBRVAsS0FBSyxDQUFDTyxPQVBNO1lBUXJCdkMsSUFBSSxFQUFFRCxVQUFVLENBQUMsSUFBSXlDLElBQUosRUFBRDtVQVJLLENBQXZCO1VBVUEsTUFBTUMsUUFBUSxHQUFHLE1BQU1wRCxPQUFPLENBQUNxRCxTQUFSLENBQ3JCO1lBQUVDLEdBQUcsRUFBRVgsS0FBSyxDQUFDZDtVQUFiLENBRHFCLEVBRXJCZSxjQUZxQixDQUF2QjtVQUlBLE9BQU9RLFFBQVA7UUFDRCxDQWhCRCxDQWdCRSxPQUFPN0MsS0FBUCxFQUFjO1VBQ2QsTUFBTSxJQUFJQyxLQUFKLENBQVUsNkJBQTZCRCxLQUFLLENBQUNFLE9BQTdDLENBQU47UUFDRDtNQUNGOztNQUNELElBQUk7UUFDRixNQUFNOEMsVUFBVSxHQUFHO1VBQ2pCVixLQUFLLEVBQUVGLEtBQUssQ0FBQ0UsS0FESTtVQUVqQkMsT0FBTyxFQUFFSCxLQUFLLENBQUNHLE9BRkU7VUFHakJDLE9BQU8sRUFBRUosS0FBSyxDQUFDSSxPQUhFO1VBSWpCQyxRQUFRLEVBQUVMLEtBQUssQ0FBQ0ssUUFKQztVQUtqQnhCLFVBQVUsRUFBRW1CLEtBQUssQ0FBQ25CLFVBTEQ7VUFNakJ5QixTQUFTLEVBQUVOLEtBQUssQ0FBQ00sU0FOQTtVQU9qQkMsT0FBTyxFQUFFUCxLQUFLLENBQUNPLE9BUEU7VUFRakJ2QyxJQUFJLEVBQUVELFVBQVUsQ0FBQyxJQUFJeUMsSUFBSixFQUFEO1FBUkMsQ0FBbkI7UUFVQSxNQUFNQyxRQUFRLEdBQUcsTUFBTXBELE9BQU8sQ0FBQzBDLGFBQVIsQ0FBc0JhLFVBQXRCLENBQXZCO1FBQ0EsT0FBT0gsUUFBUDtNQUNELENBYkQsQ0FhRSxPQUFPN0MsS0FBUCxFQUFjO1FBQ2QsTUFBTSxJQUFJQyxLQUFKLENBQVUsNkJBQTZCRCxLQUFLLENBQUNFLE9BQTdDLENBQU47TUFDRDtJQUNGO0lBQ0Q7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7RUEvQ1k7QUFuRGEsQ0FBekI7QUF1R0ErQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJyQyxnQkFBakIifQ==","map":{"version":3,"names":["format","require","Article","jwt","verifyToken","token","secret","decoded","verify","error","Error","message","formatDate","date","year","getFullYear","month","String","getMonth","padStart","day","getDate","articleResolvers","Query","getAllPublishedArticles","_","categories","console","log","articles","getArticleById","id","article","getArticlesByDate","from","to","getAllProjects","getAllArticles","args","context","process","env","SECRET","Mutation","createArticle","input","updatedArticle","title","summary","content","imageUrl","published","project","Date","response","updateOne","_id","newArticle","module","exports"],"sourceRoot":"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/graphql/resolvers/","sources":["articleResolvers.js"],"sourcesContent":["const { format } = require(\"path\");\nconst Article = require(\"../../data/models/article\");\nconst jwt = require(\"jsonwebtoken\");\n\nfunction verifyToken(token, secret) {\n  try {\n    const decoded = jwt.verify(token, secret);\n\n    return decoded;\n  } catch (error) {\n    throw new Error(error.message);\n  }\n}\n\nfunction formatDate(date) {\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    return `${day}-${month}-${year}`;\n  }\n\nconst articleResolvers = {\n  Query: {\n    getAllPublishedArticles: async (_, { categories }) => {\n        console.log(categories)\n      try {\n        const articles = await Article.getAllPublishedArticles(categories);\n        return articles;\n      } catch (error) {\n        throw new Error(\"Error fetching published articles: \" + error.message);\n      }\n    },\n    getArticleById: async (_, { id }) => {\n      try {\n        const article = await Article.getArticleById(id);\n        return article;\n      } catch (error) {\n        throw new Error(\"Error fetching article by ID: \" + error.message);\n      }\n    },\n    getArticlesByDate: async (_, { from, to }) => {\n      try {\n        const articles = await Article.getArticlesByDate(from, to);\n        return articles;\n      } catch (error) {\n        throw new Error(\"Error fetching articles by date: \" + error.message);\n      }\n    },\n    getAllProjects: async () => {\n      try {\n        const articles = await Article.getAllProjects();\n        return articles;\n      } catch (error) {\n        throw new Error(\"Error fetching projects: \" + error.message);\n      }\n    },\n    getAllArticles: async (_, args, context) => {\n        const {token} = context;\n        \n        if(!token){\n            throw new Error('Authentication required');\n        }\n        const decoded = verifyToken(token, process.env.SECRET);\n      \n      try {\n        const articles = await Article.getAllArticles();\n        return articles;\n      } catch (error) {\n        throw new Error(\"Error fetching all articles: \" + error.message);\n      }\n    },\n  },\n  Mutation: {\n    createArticle: async (_, { input }) => {\n      if (input.id) {\n        try {\n          const updatedArticle = {\n            title: input.title,\n            summary: input.summary,\n            content: input.content,\n            imageUrl: input.imageUrl,\n            categories: input.categories,\n            published: input.published,\n            project: input.project,\n            date: formatDate(new Date()),\n          };\n          const response = await Article.updateOne(\n            { _id: input.id },\n            updatedArticle\n          );\n          return response;\n        } catch (error) {\n          throw new Error(\"Error updating article: \" + error.message);\n        }\n      }\n      try {\n        const newArticle = {\n          title: input.title,\n          summary: input.summary,\n          content: input.content,\n          imageUrl: input.imageUrl,\n          categories: input.categories,\n          published: input.published,\n          project: input.project,\n          date: formatDate(new Date()),\n        };\n        const response = await Article.createArticle(newArticle);\n        return response;\n      } catch (error) {\n        throw new Error(\"Error creating article: \" + error.message);\n      }\n    },\n    /* deleteArticle: async (_, { input }) => {\n        try {\n          const response = await Article.deleteOne({ _id: input.id });\n          return response;\n        } catch (error) {\n          throw new Error(\"Error deleting article: \" + error.message);\n        }\n      } */\n  },\n \n};\n\nmodule.exports = articleResolvers;\n"],"mappings":"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"}},"mtime":1704622209685},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/data/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services\",\"filename\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/data/models/article.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.13:development":{"value":{"code":"const mongoose = require('mongoose');\n\nconst articleSchema = new mongoose.Schema({\n  title: {\n    type: String,\n    required: true\n  },\n  summary: {\n    type: String,\n    required: true\n  },\n  content: {\n    type: String,\n    required: true\n  },\n  imageUrl: {\n    type: String,\n    required: true\n  },\n  date: {\n    type: String,\n    required: true\n  },\n  categories: {\n    type: [String],\n    required: false\n  },\n  published: {\n    type: Boolean,\n    required: true\n  },\n  project: {\n    type: Boolean,\n    required: true\n  }\n});\nconst Article = mongoose.model('Article', articleSchema);\n\nArticle.getAllPublishedArticles = async categories => {\n  if (categories.length > 0) {\n    try {\n      const articles = await Article.find({\n        published: true,\n        categories: {\n          $in: categories\n        }\n      });\n      return articles;\n    } catch (error) {\n      throw new Error('Error fetching published articles: ' + error.message);\n    }\n  } else {\n    try {\n      const articles = await Article.find({\n        published: true\n      });\n      return articles;\n    } catch (error) {\n      throw new Error('Error fetching published articles: ' + error.message);\n    }\n  }\n};\n\nArticle.getArticleById = async id => {\n  try {\n    const article = await Article.findOne({\n      _id: id\n    });\n    return article;\n  } catch (error) {\n    throw new Error('Error fetching article by ID: ' + error.message);\n  }\n};\n\nArticle.getArticlesByDate = async (from, to) => {\n  try {\n    const articles = await Article.find({\n      date: {\n        $gte: from,\n        $lte: to\n      }\n    });\n    return articles;\n  } catch (error) {\n    throw new Error('Error fetching articles by date range: ' + error.message);\n  }\n};\n\nArticle.getAllProjects = async () => {\n  try {\n    const articles = await Article.find({\n      project: true\n    });\n    return articles;\n  } catch (error) {\n    throw new Error('Error fetching project articles: ' + error.message);\n  }\n};\n\nArticle.getAllArticles = async () => {\n  try {\n    const articles = await Article.find({});\n    return articles;\n  } catch (error) {\n    throw new Error('Error fetching all articles: ' + error.message);\n  }\n};\n\nArticle.createArticle = async input => {\n  try {\n    const article = await Article.create(input);\n    return article;\n  } catch (error) {\n    throw new Error('Error creating article: ' + error.message);\n  }\n};\n\nmodule.exports = Article;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJhcnRpY2xlU2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJzdW1tYXJ5IiwiY29udGVudCIsImltYWdlVXJsIiwiZGF0ZSIsImNhdGVnb3JpZXMiLCJwdWJsaXNoZWQiLCJCb29sZWFuIiwicHJvamVjdCIsIkFydGljbGUiLCJtb2RlbCIsImdldEFsbFB1Ymxpc2hlZEFydGljbGVzIiwibGVuZ3RoIiwiYXJ0aWNsZXMiLCJmaW5kIiwiJGluIiwiZXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJnZXRBcnRpY2xlQnlJZCIsImlkIiwiYXJ0aWNsZSIsImZpbmRPbmUiLCJfaWQiLCJnZXRBcnRpY2xlc0J5RGF0ZSIsImZyb20iLCJ0byIsIiRndGUiLCIkbHRlIiwiZ2V0QWxsUHJvamVjdHMiLCJnZXRBbGxBcnRpY2xlcyIsImNyZWF0ZUFydGljbGUiLCJpbnB1dCIsImNyZWF0ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qYW1lc3N0b3JyL1Byb2plY3RzL1BvcnRmb2xpby9wb3J0Zm9saW8tc2VydmljZXMvc3JjL2RhdGEvbW9kZWxzLyIsInNvdXJjZXMiOlsiYXJ0aWNsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG5cbmNvbnN0IGFydGljbGVTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcblxuICAgIHRpdGxlOntcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgc3VtbWFyeTp7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIGNvbnRlbnQ6e1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgfSxcbiAgICBpbWFnZVVybDp7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIGRhdGU6e1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgfSxcbiAgICBjYXRlZ29yaWVzOntcbiAgICAgICAgdHlwZTogW1N0cmluZ10sXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZVxuICAgIH0sXG4gICAgcHVibGlzaGVkOntcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIHByb2plY3Q6e1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH1cbn0pXG5cbmNvbnN0IEFydGljbGUgPSBtb25nb29zZS5tb2RlbCgnQXJ0aWNsZScsIGFydGljbGVTY2hlbWEpO1xuXG5BcnRpY2xlLmdldEFsbFB1Ymxpc2hlZEFydGljbGVzID0gYXN5bmMgKGNhdGVnb3JpZXMpID0+IHtcbiAgICBpZihjYXRlZ29yaWVzLmxlbmd0aD4gMCl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBhcnRpY2xlcyA9IGF3YWl0IEFydGljbGUuZmluZCh7IHB1Ymxpc2hlZDogdHJ1ZSwgY2F0ZWdvcmllczogeyAkaW46IGNhdGVnb3JpZXMgfSB9KTtcbiAgICAgICAgICAgIHJldHVybiBhcnRpY2xlcztcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBmZXRjaGluZyBwdWJsaXNoZWQgYXJ0aWNsZXM6ICcgKyBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYXJ0aWNsZXMgPSBhd2FpdCBBcnRpY2xlLmZpbmQoeyBwdWJsaXNoZWQ6IHRydWUgfSk7XG4gICAgICAgICAgICByZXR1cm4gYXJ0aWNsZXM7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgZmV0Y2hpbmcgcHVibGlzaGVkIGFydGljbGVzOiAnICsgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgfVxuICAgIH1cbn1cbiAgXG4gIEFydGljbGUuZ2V0QXJ0aWNsZUJ5SWQgPSBhc3luYyAoaWQpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYXJ0aWNsZSA9IGF3YWl0IEFydGljbGUuZmluZE9uZSh7IF9pZDogaWQgfSk7XG4gICAgICByZXR1cm4gYXJ0aWNsZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBmZXRjaGluZyBhcnRpY2xlIGJ5IElEOiAnICsgZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICB9O1xuICBcbiAgQXJ0aWNsZS5nZXRBcnRpY2xlc0J5RGF0ZSA9IGFzeW5jIChmcm9tLCB0bykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhcnRpY2xlcyA9IGF3YWl0IEFydGljbGUuZmluZCh7IGRhdGU6IHsgJGd0ZTogZnJvbSwgJGx0ZTogdG8gfSB9KTtcbiAgICAgIHJldHVybiBhcnRpY2xlcztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBmZXRjaGluZyBhcnRpY2xlcyBieSBkYXRlIHJhbmdlOiAnICsgZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICB9O1xuICBcbiAgQXJ0aWNsZS5nZXRBbGxQcm9qZWN0cyA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYXJ0aWNsZXMgPSBhd2FpdCBBcnRpY2xlLmZpbmQoeyBwcm9qZWN0OiB0cnVlIH0pO1xuICAgICAgcmV0dXJuIGFydGljbGVzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb2plY3QgYXJ0aWNsZXM6ICcgKyBlcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gIH07XG4gIFxuICBBcnRpY2xlLmdldEFsbEFydGljbGVzID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhcnRpY2xlcyA9IGF3YWl0IEFydGljbGUuZmluZCh7fSk7XG4gICAgICByZXR1cm4gYXJ0aWNsZXM7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgZmV0Y2hpbmcgYWxsIGFydGljbGVzOiAnICsgZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICB9O1xuICBcbiAgQXJ0aWNsZS5jcmVhdGVBcnRpY2xlID0gYXN5bmMgKGlucHV0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFydGljbGUgPSBhd2FpdCBBcnRpY2xlLmNyZWF0ZShpbnB1dCk7XG4gICAgICByZXR1cm4gYXJ0aWNsZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBjcmVhdGluZyBhcnRpY2xlOiAnICsgZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICB9O1xuIG1vZHVsZS5leHBvcnRzID0gQXJ0aWNsZTsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBeEI7O0FBRUEsTUFBTUMsYUFBYSxHQUFHLElBQUlGLFFBQVEsQ0FBQ0csTUFBYixDQUFvQjtFQUV0Q0MsS0FBSyxFQUFDO0lBQ0ZDLElBQUksRUFBRUMsTUFESjtJQUVGQyxRQUFRLEVBQUU7RUFGUixDQUZnQztFQU10Q0MsT0FBTyxFQUFDO0lBQ0pILElBQUksRUFBRUMsTUFERjtJQUVKQyxRQUFRLEVBQUU7RUFGTixDQU44QjtFQVV0Q0UsT0FBTyxFQUFDO0lBQ0pKLElBQUksRUFBRUMsTUFERjtJQUVKQyxRQUFRLEVBQUU7RUFGTixDQVY4QjtFQWN0Q0csUUFBUSxFQUFDO0lBQ0xMLElBQUksRUFB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","map":{"version":3,"names":["mongoose","require","articleSchema","Schema","title","type","String","required","summary","content","imageUrl","date","categories","published","Boolean","project","Article","model","getAllPublishedArticles","length","articles","find","$in","error","Error","message","getArticleById","id","article","findOne","_id","getArticlesByDate","from","to","$gte","$lte","getAllProjects","getAllArticles","createArticle","input","create","module","exports"],"sourceRoot":"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/data/models/","sources":["article.js"],"sourcesContent":["const mongoose = require('mongoose');\n\nconst articleSchema = new mongoose.Schema({\n\n    title:{\n        type: String,\n        required: true\n    },\n    summary:{\n        type: String,\n        required: true\n    },\n    content:{\n        type: String,\n        required: true\n    },\n    imageUrl:{\n        type: String,\n        required: true\n    },\n    date:{\n        type: String,\n        required: true\n    },\n    categories:{\n        type: [String],\n        required: false\n    },\n    published:{\n        type: Boolean,\n        required: true\n    },\n    project:{\n        type: Boolean,\n        required: true\n    }\n})\n\nconst Article = mongoose.model('Article', articleSchema);\n\nArticle.getAllPublishedArticles = async (categories) => {\n    if(categories.length> 0){\n        try {\n            const articles = await Article.find({ published: true, categories: { $in: categories } });\n            return articles;\n          } catch (error) {\n            throw new Error('Error fetching published articles: ' + error.message);\n          }\n    }\n    else {\n        try {\n            const articles = await Article.find({ published: true });\n            return articles;\n          } catch (error) {\n            throw new Error('Error fetching published articles: ' + error.message);\n          }\n    }\n}\n  \n  Article.getArticleById = async (id) => {\n    try {\n      const article = await Article.findOne({ _id: id });\n      return article;\n    } catch (error) {\n      throw new Error('Error fetching article by ID: ' + error.message);\n    }\n  };\n  \n  Article.getArticlesByDate = async (from, to) => {\n    try {\n      const articles = await Article.find({ date: { $gte: from, $lte: to } });\n      return articles;\n    } catch (error) {\n      throw new Error('Error fetching articles by date range: ' + error.message);\n    }\n  };\n  \n  Article.getAllProjects = async () => {\n    try {\n      const articles = await Article.find({ project: true });\n      return articles;\n    } catch (error) {\n      throw new Error('Error fetching project articles: ' + error.message);\n    }\n  };\n  \n  Article.getAllArticles = async () => {\n    try {\n      const articles = await Article.find({});\n      return articles;\n    } catch (error) {\n      throw new Error('Error fetching all articles: ' + error.message);\n    }\n  };\n  \n  Article.createArticle = async (input) => {\n    try {\n      const article = await Article.create(input);\n      return article;\n    } catch (error) {\n      throw new Error('Error creating article: ' + error.message);\n    }\n  };\n module.exports = Article;"],"mappings":"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"}},"mtime":1704561627634},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/graphql/resolvers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services\",\"filename\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/graphql/resolvers/categoryResolvers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.13:development":{"value":{"code":"const Category = require('../../data/models/category');\n\nconst categoryResolvers = {\n  Query: {\n    getCategories: async () => {\n      try {\n        const categories = await Category.find({});\n        return categories;\n      } catch (error) {\n        throw new Error('Error fetching categories: ' + error.message);\n      }\n    }\n  },\n  Mutation: {\n    createCategory: async (_, {\n      categoryName\n    }) => {\n      try {\n        const newCategory = {\n          name: categoryName\n        };\n        const category = await Category.create(newCategory);\n        return category;\n      } catch (error) {\n        throw new Error('Error creating category: ' + error.message);\n      }\n    }\n  }\n};\nmodule.exports = categoryResolvers;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDYXRlZ29yeSIsInJlcXVpcmUiLCJjYXRlZ29yeVJlc29sdmVycyIsIlF1ZXJ5IiwiZ2V0Q2F0ZWdvcmllcyIsImNhdGVnb3JpZXMiLCJmaW5kIiwiZXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJNdXRhdGlvbiIsImNyZWF0ZUNhdGVnb3J5IiwiXyIsImNhdGVnb3J5TmFtZSIsIm5ld0NhdGVnb3J5IiwibmFtZSIsImNhdGVnb3J5IiwiY3JlYXRlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2phbWVzc3RvcnIvUHJvamVjdHMvUG9ydGZvbGlvL3BvcnRmb2xpby1zZXJ2aWNlcy9zcmMvZ3JhcGhxbC9yZXNvbHZlcnMvIiwic291cmNlcyI6WyJjYXRlZ29yeVJlc29sdmVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoJy4uLy4uL2RhdGEvbW9kZWxzL2NhdGVnb3J5Jyk7XG5cbmNvbnN0IGNhdGVnb3J5UmVzb2x2ZXJzID0ge1xuICAgIFF1ZXJ5OiB7XG4gICAgICBnZXRDYXRlZ29yaWVzOiBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgY2F0ZWdvcmllcyA9IGF3YWl0IENhdGVnb3J5LmZpbmQoe30pO1xuICAgICAgICAgIHJldHVybiBjYXRlZ29yaWVzO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgZmV0Y2hpbmcgY2F0ZWdvcmllczogJyArIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0sXG4gICAgTXV0YXRpb246IHtcbiAgICAgICAgY3JlYXRlQ2F0ZWdvcnk6IGFzeW5jIChfLCB7IGNhdGVnb3J5TmFtZSB9KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NhdGVnb3J5ID0ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBjYXRlZ29yeU5hbWUsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gYXdhaXQgQ2F0ZWdvcnkuY3JlYXRlKG5ld0NhdGVnb3J5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2F0ZWdvcnk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgY3JlYXRpbmcgY2F0ZWdvcnk6ICcgKyBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY2F0ZWdvcnlSZXNvbHZlcnM7XG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLDRCQUFELENBQXhCOztBQUVBLE1BQU1DLGlCQUFpQixHQUFHO0VBQ3RCQyxLQUFLLEVBQUU7SUFDTEMsYUFBYSxFQUFFLFlBQVk7TUFDekIsSUFBSTtRQUNGLE1BQU1DLFVBQVUsR0FBRyxNQUFNTCxRQUFRLENBQUNNLElBQVQsQ0FBYyxFQUFkLENBQXpCO1FBQ0EsT0FBT0QsVUFBUDtNQUNELENBSEQsQ0FHRSxPQUFPRSxLQUFQLEVBQWM7UUFDZCxNQUFNLElBQUlDLEtBQUosQ0FBVSxnQ0FBZ0NELEtBQUssQ0FBQ0UsT0FBaEQsQ0FBTjtNQUNEO0lBQ0Y7RUFSSSxDQURlO0VBV3RCQyxRQUFRLEVBQUU7SUFDTkMsY0FBYyxFQUFFLE9BQU9DLENBQVAsRUFBVTtNQUFFQztJQUFGLENBQVYsS0FBK0I7TUFDM0MsSUFBSTtRQUNBLE1BQU1DLFdBQVcsR0FBRztVQUNoQkMsSUFBSSxFQUFFRjtRQURVLENBQXBCO1FBR0EsTUFBTUcsUUFBUSxHQUFHLE1BQU1oQixRQUFRLENBQUNpQixNQUFULENBQWdCSCxXQUFoQixDQUF2QjtRQUNBLE9BQU9FLFFBQVA7TUFDSCxDQU5ELENBTUUsT0FBT1QsS0FBUCxFQUFjO1FBQ1osTUFBTSxJQUFJQyxLQUFKLENBQVUsOEJBQThCRCxLQUFLLENBQUNFLE9BQTlDLENBQU47TUFDSDtJQUNKO0VBWEs7QUFYWSxDQUExQjtBQTBCQVMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCakIsaUJBQWpCIn0=","map":{"version":3,"names":["Category","require","categoryResolvers","Query","getCategories","categories","find","error","Error","message","Mutation","createCategory","_","categoryName","newCategory","name","category","create","module","exports"],"sourceRoot":"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/graphql/resolvers/","sources":["categoryResolvers.js"],"sourcesContent":["const Category = require('../../data/models/category');\n\nconst categoryResolvers = {\n    Query: {\n      getCategories: async () => {\n        try {\n          const categories = await Category.find({});\n          return categories;\n        } catch (error) {\n          throw new Error('Error fetching categories: ' + error.message);\n        }\n      },\n    },\n    Mutation: {\n        createCategory: async (_, { categoryName }) => {\n            try {\n                const newCategory = {\n                    name: categoryName,\n                }\n                const category = await Category.create(newCategory);\n                return category;\n            } catch (error) {\n                throw new Error('Error creating category: ' + error.message);\n            }\n        },\n    }\n}\n\nmodule.exports = categoryResolvers;\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,4BAAD,CAAxB;;AAEA,MAAMC,iBAAiB,GAAG;EACtBC,KAAK,EAAE;IACLC,aAAa,EAAE,YAAY;MACzB,IAAI;QACF,MAAMC,UAAU,GAAG,MAAML,QAAQ,CAACM,IAAT,CAAc,EAAd,CAAzB;QACA,OAAOD,UAAP;MACD,CAHD,CAGE,OAAOE,KAAP,EAAc;QACd,MAAM,IAAIC,KAAJ,CAAU,gCAAgCD,KAAK,CAACE,OAAhD,CAAN;MACD;IACF;EARI,CADe;EAWtBC,QAAQ,EAAE;IACNC,cAAc,EAAE,OAAOC,CAAP,EAAU;MAAEC;IAAF,CAAV,KAA+B;MAC3C,IAAI;QACA,MAAMC,WAAW,GAAG;UAChBC,IAAI,EAAEF;QADU,CAApB;QAGA,MAAMG,QAAQ,GAAG,MAAMhB,QAAQ,CAACiB,MAAT,CAAgBH,WAAhB,CAAvB;QACA,OAAOE,QAAP;MACH,CAND,CAME,OAAOT,KAAP,EAAc;QACZ,MAAM,IAAIC,KAAJ,CAAU,8BAA8BD,KAAK,CAACE,OAA9C,CAAN;MACH;IACJ;EAXK;AAXY,CAA1B;AA0BAS,MAAM,CAACC,OAAP,GAAiBjB,iBAAjB"}},"mtime":1704486732316},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/data/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services\",\"filename\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/data/models/category.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.13:development":{"value":{"code":"const mongoose = require(\"mongoose\");\n\nconst categorySchema = new mongoose.Schema({\n  name: {\n    type: String,\n    required: true\n  }\n});\nconst Category = mongoose.model('Category', categorySchema);\nmodule.exports = Category;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJjYXRlZ29yeVNjaGVtYSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJDYXRlZ29yeSIsIm1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2phbWVzc3RvcnIvUHJvamVjdHMvUG9ydGZvbGlvL3BvcnRmb2xpby1zZXJ2aWNlcy9zcmMvZGF0YS9tb2RlbHMvIiwic291cmNlcyI6WyJjYXRlZ29yeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZShcIm1vbmdvb3NlXCIpO1xuXG5cbmNvbnN0IGNhdGVnb3J5U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gICAgbmFtZTp7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9XG59KTtcblxuY29uc3QgQ2F0ZWdvcnkgPSBtb25nb29zZS5tb2RlbCgnQ2F0ZWdvcnknLCBjYXRlZ29yeVNjaGVtYSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQ2F0ZWdvcnk7Il0sIm1hcHBpbmdzIjoiQUFDQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXhCOztBQUdBLE1BQU1DLGNBQWMsR0FBRyxJQUFJRixRQUFRLENBQUNHLE1BQWIsQ0FBb0I7RUFDdkNDLElBQUksRUFBQztJQUNEQyxJQUFJLEVBQUVDLE1BREw7SUFFREMsUUFBUSxFQUFFO0VBRlQ7QUFEa0MsQ0FBcEIsQ0FBdkI7QUFPQSxNQUFNQyxRQUFRLEdBQUdSLFFBQVEsQ0FBQ1MsS0FBVCxDQUFlLFVBQWYsRUFBMkJQLGNBQTNCLENBQWpCO0FBRUFRLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQkgsUUFBakIifQ==","map":{"version":3,"names":["mongoose","require","categorySchema","Schema","name","type","String","required","Category","model","module","exports"],"sourceRoot":"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/data/models/","sources":["category.js"],"sourcesContent":["\nconst mongoose = require(\"mongoose\");\n\n\nconst categorySchema = new mongoose.Schema({\n    name:{\n        type: String,\n        required: true\n    }\n});\n\nconst Category = mongoose.model('Category', categorySchema);\n\nmodule.exports = Category;"],"mappings":"AACA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAGA,MAAMC,cAAc,GAAG,IAAIF,QAAQ,CAACG,MAAb,CAAoB;EACvCC,IAAI,EAAC;IACDC,IAAI,EAAEC,MADL;IAEDC,QAAQ,EAAE;EAFT;AADkC,CAApB,CAAvB;AAOA,MAAMC,QAAQ,GAAGR,QAAQ,CAACS,KAAT,CAAe,UAAf,EAA2BP,cAA3B,CAAjB;AAEAQ,MAAM,CAACC,OAAP,GAAiBH,QAAjB"}},"mtime":1704486739608},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/graphql/resolvers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services\",\"filename\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/graphql/resolvers/userResolvers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.13:development":{"value":{"code":"const User = require(\"../../data/models/user\");\n\nconst jwt = require(\"jsonwebtoken\");\n\nconst createToken = user => {\n  const token = jwt.sign({\n    username: user.username,\n    id: user.id\n  }, process.env.SECRET, {\n    expiresIn: \"1d\"\n  });\n  return token;\n};\n\nconst userResolvers = {\n  Query: {},\n  Mutation: {\n    createUser: async (_, {\n      input\n    }, {\n      res\n    }) => {\n      try {\n        const newUser = {\n          username: input.username,\n          firstName: input.firstName,\n          lastName: input.lastName,\n          password: input.password\n        };\n        const user = await User.createUser(newUser);\n        token = createToken(user);\n        res.cookie(\"token\", token, {\n          httpOnly: true,\n          secure: process.env.NODE_ENV === \"production\",\n          // use secure in production\n          sameSite: \"lax\",\n          maxAge: 24 * 60 * 60 * 1000 // 1 day\n\n        });\n        return {\n          message: \"Authenticated\"\n        };\n      } catch (error) {\n        throw new Error(\"Error creating user: \" + error.message);\n      }\n    },\n    login: async (_, {\n      username,\n      password\n    }, {\n      res\n    }) => {\n      try {\n        const user = await User.findOne({\n          username: username\n        });\n        console.log(user);\n\n        if (user && User.verifyPassword(password, user.password)) {\n          token = createToken(user);\n          res.cookie(\"token\", token, {\n            httpOnly: true,\n            secure: process.env.NODE_ENV === \"production\",\n            // use secure in production\n            sameSite: \"lax\",\n            maxAge: 24 * 60 * 60 * 1000 // 1 day\n\n          });\n          return {\n            message: \"Authenticated\"\n          };\n        } else {\n          throw new Error(\"Wrong password\");\n        }\n      } catch (error) {\n        throw new Error(\"Error fetching users: \" + error.message);\n      }\n    }\n  }\n};\nmodule.exports = userResolvers;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsImp3dCIsImNyZWF0ZVRva2VuIiwidXNlciIsInRva2VuIiwic2lnbiIsInVzZXJuYW1lIiwiaWQiLCJwcm9jZXNzIiwiZW52IiwiU0VDUkVUIiwiZXhwaXJlc0luIiwidXNlclJlc29sdmVycyIsIlF1ZXJ5IiwiTXV0YXRpb24iLCJjcmVhdGVVc2VyIiwiXyIsImlucHV0IiwicmVzIiwibmV3VXNlciIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwicGFzc3dvcmQiLCJjb29raWUiLCJodHRwT25seSIsInNlY3VyZSIsIk5PREVfRU5WIiwic2FtZVNpdGUiLCJtYXhBZ2UiLCJtZXNzYWdlIiwiZXJyb3IiLCJFcnJvciIsImxvZ2luIiwiZmluZE9uZSIsImNvbnNvbGUiLCJsb2ciLCJ2ZXJpZnlQYXNzd29yZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qYW1lc3N0b3JyL1Byb2plY3RzL1BvcnRmb2xpby9wb3J0Zm9saW8tc2VydmljZXMvc3JjL2dyYXBocWwvcmVzb2x2ZXJzLyIsInNvdXJjZXMiOlsidXNlclJlc29sdmVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBVc2VyID0gcmVxdWlyZShcIi4uLy4uL2RhdGEvbW9kZWxzL3VzZXJcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xuXG5jb25zdCBjcmVhdGVUb2tlbiA9ICh1c2VyKSA9PiB7XG4gIGNvbnN0IHRva2VuID0gand0LnNpZ24oXG4gICAgeyB1c2VybmFtZTogdXNlci51c2VybmFtZSwgaWQ6IHVzZXIuaWQgfSxcbiAgICBwcm9jZXNzLmVudi5TRUNSRVQsXG4gICAgeyBleHBpcmVzSW46IFwiMWRcIiB9XG4gICk7XG4gIHJldHVybiB0b2tlbjtcbn07XG5cbmNvbnN0IHVzZXJSZXNvbHZlcnMgPSB7XG4gIFF1ZXJ5OiB7fSxcbiAgTXV0YXRpb246IHtcbiAgICBjcmVhdGVVc2VyOiBhc3luYyAoXywgeyBpbnB1dCB9LCB7IHJlcyB9KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBuZXdVc2VyID0ge1xuICAgICAgICAgIHVzZXJuYW1lOiBpbnB1dC51c2VybmFtZSxcbiAgICAgICAgICBmaXJzdE5hbWU6IGlucHV0LmZpcnN0TmFtZSxcbiAgICAgICAgICBsYXN0TmFtZTogaW5wdXQubGFzdE5hbWUsXG4gICAgICAgICAgcGFzc3dvcmQ6IGlucHV0LnBhc3N3b3JkLFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmNyZWF0ZVVzZXIobmV3VXNlcik7XG4gICAgICAgIHRva2VuID0gY3JlYXRlVG9rZW4odXNlcik7XG4gICAgICAgIHJlcy5jb29raWUoXCJ0b2tlblwiLCB0b2tlbiwge1xuICAgICAgICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICAgICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiwgLy8gdXNlIHNlY3VyZSBpbiBwcm9kdWN0aW9uXG4gICAgICAgICAgICBzYW1lU2l0ZTogXCJsYXhcIixcbiAgICAgICAgICAgIG1heEFnZTogMjQgKiA2MCAqIDYwICogMTAwMCwgLy8gMSBkYXlcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IFwiQXV0aGVudGljYXRlZFwiIH07XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBjcmVhdGluZyB1c2VyOiBcIiArIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH0sXG4gICAgbG9naW46IGFzeW5jIChfLCB7IHVzZXJuYW1lLCBwYXNzd29yZCB9LCAgeyByZXMgfSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IHVzZXJuYW1lOiB1c2VybmFtZSB9KTtcbiAgICAgICAgY29uc29sZS5sb2codXNlcik7XG4gICAgICAgIGlmICh1c2VyICYmIFVzZXIudmVyaWZ5UGFzc3dvcmQocGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpKSB7XG4gICAgICAgICAgdG9rZW4gPSBjcmVhdGVUb2tlbih1c2VyKTtcbiAgICAgICAgICByZXMuY29va2llKFwidG9rZW5cIiwgdG9rZW4sIHtcbiAgICAgICAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgICAgICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIsIC8vIHVzZSBzZWN1cmUgaW4gcHJvZHVjdGlvblxuICAgICAgICAgICAgc2FtZVNpdGU6IFwibGF4XCIsXG4gICAgICAgICAgICBtYXhBZ2U6IDI0ICogNjAgKiA2MCAqIDEwMDAsIC8vIDEgZGF5XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHsgbWVzc2FnZTogXCJBdXRoZW50aWNhdGVkXCIgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXcm9uZyBwYXNzd29yZFwiKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgdXNlcnM6IFwiICsgZXJyb3IubWVzc2FnZSk7XG4gICAgICB9XG4gICAgfSxcbiAgfSxcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gdXNlclJlc29sdmVycztcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsd0JBQUQsQ0FBcEI7O0FBQ0EsTUFBTUMsR0FBRyxHQUFHRCxPQUFPLENBQUMsY0FBRCxDQUFuQjs7QUFFQSxNQUFNRSxXQUFXLEdBQUlDLElBQUQsSUFBVTtFQUM1QixNQUFNQyxLQUFLLEdBQUdILEdBQUcsQ0FBQ0ksSUFBSixDQUNaO0lBQUVDLFFBQVEsRUFBRUgsSUFBSSxDQUFDRyxRQUFqQjtJQUEyQkMsRUFBRSxFQUFFSixJQUFJLENBQUNJ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","map":{"version":3,"names":["User","require","jwt","createToken","user","token","sign","username","id","process","env","SECRET","expiresIn","userResolvers","Query","Mutation","createUser","_","input","res","newUser","firstName","lastName","password","cookie","httpOnly","secure","NODE_ENV","sameSite","maxAge","message","error","Error","login","findOne","console","log","verifyPassword","module","exports"],"sourceRoot":"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/graphql/resolvers/","sources":["userResolvers.js"],"sourcesContent":["const User = require(\"../../data/models/user\");\nconst jwt = require(\"jsonwebtoken\");\n\nconst createToken = (user) => {\n  const token = jwt.sign(\n    { username: user.username, id: user.id },\n    process.env.SECRET,\n    { expiresIn: \"1d\" }\n  );\n  return token;\n};\n\nconst userResolvers = {\n  Query: {},\n  Mutation: {\n    createUser: async (_, { input }, { res }) => {\n      try {\n        const newUser = {\n          username: input.username,\n          firstName: input.firstName,\n          lastName: input.lastName,\n          password: input.password,\n        };\n\n        const user = await User.createUser(newUser);\n        token = createToken(user);\n        res.cookie(\"token\", token, {\n            httpOnly: true,\n            secure: process.env.NODE_ENV === \"production\", // use secure in production\n            sameSite: \"lax\",\n            maxAge: 24 * 60 * 60 * 1000, // 1 day\n        });\n        return { message: \"Authenticated\" };\n      } catch (error) {\n        throw new Error(\"Error creating user: \" + error.message);\n      }\n    },\n    login: async (_, { username, password },  { res }) => {\n      try {\n        const user = await User.findOne({ username: username });\n        console.log(user);\n        if (user && User.verifyPassword(password, user.password)) {\n          token = createToken(user);\n          res.cookie(\"token\", token, {\n            httpOnly: true,\n            secure: process.env.NODE_ENV === \"production\", // use secure in production\n            sameSite: \"lax\",\n            maxAge: 24 * 60 * 60 * 1000, // 1 day\n          });\n          return { message: \"Authenticated\" };\n        } else {\n          throw new Error(\"Wrong password\");\n        }\n      } catch (error) {\n        throw new Error(\"Error fetching users: \" + error.message);\n      }\n    },\n  },\n};\n\nmodule.exports = userResolvers;\n"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,wBAAD,CAApB;;AACA,MAAMC,GAAG,GAAGD,OAAO,CAAC,cAAD,CAAnB;;AAEA,MAAME,WAAW,GAAIC,IAAD,IAAU;EAC5B,MAAMC,KAAK,GAAGH,GAAG,CAACI,IAAJ,CACZ;IAAEC,QAAQ,EAAEH,IAAI,CAACG,QAAjB;IAA2BC,EAAE,EAAEJ,IAAI,CAACI;EAApC,CADY,EAEZC,OAAO,CAACC,GAAR,CAAYC,MAFA,EAGZ;IAAEC,SAAS,EAAE;EAAb,CAHY,CAAd;EAKA,OAAOP,KAAP;AACD,CAPD;;AASA,MAAMQ,aAAa,GAAG;EACpBC,KAAK,EAAE,EADa;EAEpBC,QAAQ,EAAE;IACRC,UAAU,EAAE,OAAOC,CAAP,EAAU;MAAEC;IAAF,CAAV,EAAqB;MAAEC;IAAF,CAArB,KAAiC;MAC3C,IAAI;QACF,MAAMC,OAAO,GAAG;UACdb,QAAQ,EAAEW,KAAK,CAACX,QADF;UAEdc,SAAS,EAAEH,KAAK,CAACG,SAFH;UAGdC,QAAQ,EAAEJ,KAAK,CAACI,QAHF;UAIdC,QAAQ,EAAEL,KAAK,CAACK;QAJF,CAAhB;QAOA,MAAMnB,IAAI,GAAG,MAAMJ,IAAI,CAACgB,UAAL,CAAgBI,OAAhB,CAAnB;QACAf,KAAK,GAAGF,WAAW,CAACC,IAAD,CAAnB;QACAe,GAAG,CAACK,MAAJ,CAAW,OAAX,EAAoBnB,KAApB,EAA2B;UACvBoB,QAAQ,EAAE,IADa;UAEvBC,MAAM,EAAEjB,OAAO,CAACC,GAAR,CAAYiB,QAAZ,KAAyB,YAFV;UAEwB;UAC/CC,QAAQ,EAAE,KAHa;UAIvBC,MAAM,EAAE,KAAK,EAAL,GAAU,EAAV,GAAe,IAJA,CAIM;;QAJN,CAA3B;QAMA,OAAO;UAAEC,OAAO,EAAE;QAAX,CAAP;MACD,CAjBD,CAiBE,OAAOC,KAAP,EAAc;QACd,MAAM,IAAIC,KAAJ,CAAU,0BAA0BD,KAAK,CAACD,OAA1C,CAAN;MACD;IACF,CAtBO;IAuBRG,KAAK,EAAE,OAAOhB,CAAP,EAAU;MAAEV,QAAF;MAAYgB;IAAZ,CAAV,EAAmC;MAAEJ;IAAF,CAAnC,KAA+C;MACpD,IAAI;QACF,MAAMf,IAAI,GAAG,MAAMJ,IAAI,CAACkC,OAAL,CAAa;UAAE3B,QAAQ,EAAEA;QAAZ,CAAb,CAAnB;QACA4B,OAAO,CAACC,GAAR,CAAYhC,IAAZ;;QACA,IAAIA,IAAI,IAAIJ,IAAI,CAACqC,cAAL,CAAoBd,QAApB,EAA8BnB,IAAI,CAACmB,QAAnC,CAAZ,EAA0D;UACxDlB,KAAK,GAAGF,WAAW,CAACC,IAAD,CAAnB;UACAe,GAAG,CAACK,MAAJ,CAAW,OAAX,EAAoBnB,KAApB,EAA2B;YACzBoB,QAAQ,EAAE,IADe;YAEzBC,MAAM,EAAEjB,OAAO,CAACC,GAAR,CAAYiB,QAAZ,KAAyB,YAFR;YAEsB;YAC/CC,QAAQ,EAAE,KAHe;YAIzBC,MAAM,EAAE,KAAK,EAAL,GAAU,EAAV,GAAe,IAJE,CAII;;UAJJ,CAA3B;UAMA,OAAO;YAAEC,OAAO,EAAE;UAAX,CAAP;QACD,CATD,MASO;UACL,MAAM,IAAIE,KAAJ,CAAU,gBAAV,CAAN;QACD;MACF,CAfD,CAeE,OAAOD,KAAP,EAAc;QACd,MAAM,IAAIC,KAAJ,CAAU,2BAA2BD,KAAK,CAACD,OAA3C,CAAN;MACD;IACF;EA1CO;AAFU,CAAtB;AAgDAQ,MAAM,CAACC,OAAP,GAAiB1B,aAAjB"}},"mtime":1704621173027},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/data/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services\",\"filename\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/data/models/user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.13:development":{"value":{"code":"const mongoose = require('mongoose');\n\nconst bcrypt = require('bcrypt');\n\nconst userSchema = new mongoose.Schema({\n  username: {\n    type: String,\n    required: true\n  },\n  firstName: {\n    type: String,\n    required: false\n  },\n  lastName: {\n    type: String,\n    required: false\n  },\n  password: {\n    type: String,\n    required: true\n  }\n});\nconst User = mongoose.model('User', userSchema);\n\nUser.createUser = async newUser => {\n  try {\n    const user = new User({\n      username: newUser.username,\n      firstName: newUser.firstName,\n      lastName: newUser.lastName,\n      password: await User.generatePassword(newUser.password)\n    });\n    const response = await user.save();\n    return response;\n  } catch (error) {\n    throw new Error('Error creating user: ' + error.message);\n  }\n};\n\nUser.verifyPassword = async (password, hash) => {\n  const match = await bcrypt.compare(password, hash);\n  return match;\n};\n\nUser.generatePassword = async password => {\n  const saltRounds = 10;\n  const hash = await bcrypt.hash(password, saltRounds);\n  return hash;\n};\n\nmodule.exports = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJiY3J5cHQiLCJ1c2VyU2NoZW1hIiwiU2NoZW1hIiwidXNlcm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInBhc3N3b3JkIiwiVXNlciIsIm1vZGVsIiwiY3JlYXRlVXNlciIsIm5ld1VzZXIiLCJ1c2VyIiwiZ2VuZXJhdGVQYXNzd29yZCIsInJlc3BvbnNlIiwic2F2ZSIsImVycm9yIiwiRXJyb3IiLCJtZXNzYWdlIiwidmVyaWZ5UGFzc3dvcmQiLCJoYXNoIiwibWF0Y2giLCJjb21wYXJlIiwic2FsdFJvdW5kcyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qYW1lc3N0b3JyL1Byb2plY3RzL1BvcnRmb2xpby9wb3J0Zm9saW8tc2VydmljZXMvc3JjL2RhdGEvbW9kZWxzLyIsInNvdXJjZXMiOlsidXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKCdiY3J5cHQnKTtcblxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICAgIHVzZXJuYW1lOntcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgZmlyc3ROYW1lOntcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogZmFsc2VcbiAgICB9LFxuICAgIGxhc3ROYW1lOntcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogZmFsc2VcbiAgICB9LFxuICAgIHBhc3N3b3JkOntcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH1cbn0pO1xuXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoJ1VzZXInLCB1c2VyU2NoZW1hKTtcblxuVXNlci5jcmVhdGVVc2VyID0gYXN5bmMgKG5ld1VzZXIpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IG5ld1VzZXIudXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgZmlyc3ROYW1lOiBuZXdVc2VyLmZpcnN0TmFtZSxcbiAgICAgICAgICAgICAgICBsYXN0TmFtZTogbmV3VXNlci5sYXN0TmFtZSxcbiAgICAgICAgICAgIHBhc3N3b3JkOiBhd2FpdCBVc2VyLmdlbmVyYXRlUGFzc3dvcmQobmV3VXNlci5wYXNzd29yZClcbiAgICAgICAgfSlcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgY3JlYXRpbmcgdXNlcjogJyArIGVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbn1cblxuVXNlci52ZXJpZnlQYXNzd29yZCA9IGFzeW5jIChwYXNzd29yZCwgaGFzaCkgPT4ge1xuICAgIGNvbnN0IG1hdGNoID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIGhhc2gpO1xuICAgIHJldHVybiBtYXRjaDtcbn1cblxuVXNlci5nZW5lcmF0ZVBhc3N3b3JkID0gYXN5bmMgKHBhc3N3b3JkKSA9PiB7XG4gICAgY29uc3Qgc2FsdFJvdW5kcyA9IDEwO1xuICAgIGNvbnN0IGhhc2ggPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgc2FsdFJvdW5kcyk7XG4gICAgcmV0dXJuIGhhc2g7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gVXNlcjtcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBRCxDQUF4Qjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxRQUFELENBQXRCOztBQUVBLE1BQU1FLFVBQVUsR0FBRyxJQUFJSCxRQUFRLENBQUNJLE1BQWIsQ0FBb0I7RUFDbkNDLFFBQVEsRUFBQztJQUNMQyxJQUFJLEVBQUVDLE1BREQ7SUFFTEMsUUFBUSxFQUFFO0VBRkwsQ0FEMEI7RUFLbkNDLFNBQVMsRUFBQztJQUNOSCxJQUFJLEVBQUVDLE1BREE7SUFFTkMsUUFBUSxFQUFFO0VBRkosQ0FMeUI7RUFTbkNFLFFBQVEsRUFBQztJQUNMSixJQUFJLEVBQUVDLE1BREQ7SUFFTEMsUUFBUSxFQUFFO0VBRkwsQ0FUMEI7RUFhbkNHLFFBQVEsRUFBQztJQUNMTCxJQUFJLEVBQUVDLE1BREQ7SUFFTEMsUUFBUSxFQUFFO0VBRkw7QUFiMEIsQ0FBcEIsQ0FBbkI7QUFtQkEsTUFBTUksSUFBSSxHQUFHWixRQUFRLENBQUNhLEtBQVQsQ0FBZSxNQUFmLEVBQXVCVixVQUF2QixDQUFiOztBQUVBUyxJQUFJLENBQUNFLFVBQUwsR0FBa0IsTUFBT0MsT0FBUCxJQUFtQjtFQUNqQyxJQUFJO0lBQ0EsTUFBTUMsSUFBSSxHQUFHLElBQUlKLElBQUosQ0FDVDtNQUNJUCxRQUFRLEVBQUVVLE9BQU8sQ0FBQ1YsUUFEdEI7TUFFSUksU0FBUyxFQUFFTSxPQUFPLENBQUNOLFNBRnZCO01BR0lDLFFBQVEsRUFBRUssT0FBTyxDQUFDTCxRQUh0QjtNQUlBQyxRQUFRLEVBQUUsTUFBTUMsSUFBSSxDQUFDSyxnQkFBTCxDQUFzQkYsT0FBTyxDQUFDSixRQUE5QjtJQUpoQixDQURTLENBQWI7SUFPQSxNQUFNTyxRQUFRLEdBQUcsTUFBTUYsSUFBSSxDQUFDRyxJQUFMLEVBQXZCO0lBQ0EsT0FBT0QsUUFBUDtFQUNILENBVkQsQ0FVRSxPQUFPRSxLQUFQLEVBQWM7SUFDWixNQUFNLElBQUlDLEtBQUosQ0FBVSwwQkFBMEJELEtBQUssQ0FBQ0UsT0FBMUMsQ0FBTjtFQUNIO0FBQ0osQ0FkRDs7QUFnQkFWLElBQUksQ0FBQ1csY0FBTCxHQUFzQixPQUFPWixRQUFQLEVBQWlCYSxJQUFqQixLQUEwQjtFQUM1QyxNQUFNQyxLQUFLLEdBQUcsTUFBTXZCLE1BQU0sQ0FBQ3dCLE9BQVAsQ0FBZWYsUUFBZixFQUF5QmEsSUFBekIsQ0FBcEI7RUFDQSxPQUFPQyxLQUFQO0FBQ0gsQ0FIRDs7QUFLQWIsSUFBSSxDQUFDSyxnQkFBTCxHQUF3QixNQUFPTixRQUFQLElBQW9CO0VBQ3hDLE1BQU1nQixVQUFVLEdBQUcsRUFBbkI7RUFDQSxNQUFNSCxJQUFJLEdBQUcsTUFBTXRCLE1BQU0sQ0FBQ3NCLElBQVAsQ0FBWWIsUUFBWixFQUFzQmdCLFVBQXRCLENBQW5CO0VBQ0EsT0FBT0gsSUFBUDtBQUNILENBSkQ7O0FBTUFJLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmpCLElBQWpCIn0=","map":{"version":3,"names":["mongoose","require","bcrypt","userSchema","Schema","username","type","String","required","firstName","lastName","password","User","model","createUser","newUser","user","generatePassword","response","save","error","Error","message","verifyPassword","hash","match","compare","saltRounds","module","exports"],"sourceRoot":"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/data/models/","sources":["user.js"],"sourcesContent":["const mongoose = require('mongoose');\nconst bcrypt = require('bcrypt');\n\nconst userSchema = new mongoose.Schema({\n    username:{\n        type: String,\n        required: true\n    },\n    firstName:{\n        type: String,\n        required: false\n    },\n    lastName:{\n        type: String,\n        required: false\n    },\n    password:{\n        type: String,\n        required: true\n    }\n});\n\nconst User = mongoose.model('User', userSchema);\n\nUser.createUser = async (newUser) => {\n    try {\n        const user = new User(\n            {\n                username: newUser.username,\n                firstName: newUser.firstName,\n                lastName: newUser.lastName,\n            password: await User.generatePassword(newUser.password)\n        })\n        const response = await user.save();\n        return response;\n    } catch (error) {\n        throw new Error('Error creating user: ' + error.message);\n    }\n}\n\nUser.verifyPassword = async (password, hash) => {\n    const match = await bcrypt.compare(password, hash);\n    return match;\n}\n\nUser.generatePassword = async (password) => {\n    const saltRounds = 10;\n    const hash = await bcrypt.hash(password, saltRounds);\n    return hash;\n}\n\nmodule.exports = User;\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAtB;;AAEA,MAAME,UAAU,GAAG,IAAIH,QAAQ,CAACI,MAAb,CAAoB;EACnCC,QAAQ,EAAC;IACLC,IAAI,EAAEC,MADD;IAELC,QAAQ,EAAE;EAFL,CAD0B;EAKnCC,SAAS,EAAC;IACNH,IAAI,EAAEC,MADA;IAENC,QAAQ,EAAE;EAFJ,CALyB;EASnCE,QAAQ,EAAC;IACLJ,IAAI,EAAEC,MADD;IAELC,QAAQ,EAAE;EAFL,CAT0B;EAanCG,QAAQ,EAAC;IACLL,IAAI,EAAEC,MADD;IAELC,QAAQ,EAAE;EAFL;AAb0B,CAApB,CAAnB;AAmBA,MAAMI,IAAI,GAAGZ,QAAQ,CAACa,KAAT,CAAe,MAAf,EAAuBV,UAAvB,CAAb;;AAEAS,IAAI,CAACE,UAAL,GAAkB,MAAOC,OAAP,IAAmB;EACjC,IAAI;IACA,MAAMC,IAAI,GAAG,IAAIJ,IAAJ,CACT;MACIP,QAAQ,EAAEU,OAAO,CAACV,QADtB;MAEII,SAAS,EAAEM,OAAO,CAACN,SAFvB;MAGIC,QAAQ,EAAEK,OAAO,CAACL,QAHtB;MAIAC,QAAQ,EAAE,MAAMC,IAAI,CAACK,gBAAL,CAAsBF,OAAO,CAACJ,QAA9B;IAJhB,CADS,CAAb;IAOA,MAAMO,QAAQ,GAAG,MAAMF,IAAI,CAACG,IAAL,EAAvB;IACA,OAAOD,QAAP;EACH,CAVD,CAUE,OAAOE,KAAP,EAAc;IACZ,MAAM,IAAIC,KAAJ,CAAU,0BAA0BD,KAAK,CAACE,OAA1C,CAAN;EACH;AACJ,CAdD;;AAgBAV,IAAI,CAACW,cAAL,GAAsB,OAAOZ,QAAP,EAAiBa,IAAjB,KAA0B;EAC5C,MAAMC,KAAK,GAAG,MAAMvB,MAAM,CAACwB,OAAP,CAAef,QAAf,EAAyBa,IAAzB,CAApB;EACA,OAAOC,KAAP;AACH,CAHD;;AAKAb,IAAI,CAACK,gBAAL,GAAwB,MAAON,QAAP,IAAoB;EACxC,MAAMgB,UAAU,GAAG,EAAnB;EACA,MAAMH,IAAI,GAAG,MAAMtB,MAAM,CAACsB,IAAP,CAAYb,QAAZ,EAAsBgB,UAAtB,CAAnB;EACA,OAAOH,IAAP;AACH,CAJD;;AAMAI,MAAM,CAACC,OAAP,GAAiBjB,IAAjB"}},"mtime":1704538071912},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/data/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services\",\"filename\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/data/connectors.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jamesstorr/Projects/Portfolio/portfolio-services\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.13:development":{"value":{"code":"const mongoose = require(\"mongoose\");\n\nconst DATABASE_URI = process.env.MONGODB_URI;\nconst DATABASE_OPTIONS = {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n};\nmongoose.connect(DATABASE_URI, DATABASE_OPTIONS).then(() => {\n  console.log('Connected to MongoDB');\n}).catch(error => {\n  console.error(\"Error connecting to MongoDB:\", error);\n});\nmodule.exports = mongoose.connection;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJEQVRBQkFTRV9VUkkiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkkiLCJEQVRBQkFTRV9PUFRJT05TIiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiY29ubmVjdCIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnJvciIsIm1vZHVsZSIsImV4cG9ydHMiLCJjb25uZWN0aW9uIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamFtZXNzdG9yci9Qcm9qZWN0cy9Qb3J0Zm9saW8vcG9ydGZvbGlvLXNlcnZpY2VzL3NyYy9kYXRhLyIsInNvdXJjZXMiOlsiY29ubmVjdG9ycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZShcIm1vbmdvb3NlXCIpO1xuXG5jb25zdCBEQVRBQkFTRV9VUkkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSTtcbmNvbnN0IERBVEFCQVNFX09QVElPTlMgPSB7XG4gIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcbiAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxufTtcblxubW9uZ29vc2VcbiAgLmNvbm5lY3QoREFUQUJBU0VfVVJJLCBEQVRBQkFTRV9PUFRJT05TKVxuICAudGhlbigoKSA9PiB7IFxuICAgIGNvbnNvbGUubG9nKCdDb25uZWN0ZWQgdG8gTW9uZ29EQicpO1xuICB9KVxuICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNvbm5lY3RpbmcgdG8gTW9uZ29EQjpcIiwgZXJyb3IpO1xuICB9KTtcblxubW9kdWxlLmV4cG9ydHMgPSBtb25nb29zZS5jb25uZWN0aW9uOyJdLCJtYXBwaW5ncyI6IkFBQ0EsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBRCxDQUF4Qjs7QUFFQSxNQUFNQyxZQUFZLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxXQUFqQztBQUNBLE1BQU1DLGdCQUFnQixHQUFHO0VBQ3ZCQyxlQUFlLEVBQUUsSUFETTtFQUV2QkMsa0JBQWtCLEVBQUU7QUFGRyxDQUF6QjtBQUtBUixRQUFRLENBQ0xTLE9BREgsQ0FDV1AsWUFEWCxFQUN5QkksZ0JBRHpCLEVBRUdJLElBRkgsQ0FFUSxNQUFNO0VBQ1ZDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHNCQUFaO0FBQ0QsQ0FKSCxFQUtHQyxLQUxILENBS1VDLEtBQUQsSUFBVztFQUNoQkgsT0FBTyxDQUFDRyxLQUFSLENBQWMsOEJBQWQsRUFBOENBLEtBQTlDO0FBQ0QsQ0FQSDtBQVNBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJoQixRQUFRLENBQUNpQixVQUExQiJ9","map":{"version":3,"names":["mongoose","require","DATABASE_URI","process","env","MONGODB_URI","DATABASE_OPTIONS","useNewUrlParser","useUnifiedTopology","connect","then","console","log","catch","error","module","exports","connection"],"sourceRoot":"/Users/jamesstorr/Projects/Portfolio/portfolio-services/src/data/","sources":["connectors.js"],"sourcesContent":["\nconst mongoose = require(\"mongoose\");\n\nconst DATABASE_URI = process.env.MONGODB_URI;\nconst DATABASE_OPTIONS = {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n};\n\nmongoose\n  .connect(DATABASE_URI, DATABASE_OPTIONS)\n  .then(() => { \n    console.log('Connected to MongoDB');\n  })\n  .catch((error) => {\n    console.error(\"Error connecting to MongoDB:\", error);\n  });\n\nmodule.exports = mongoose.connection;"],"mappings":"AACA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAEA,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAR,CAAYC,WAAjC;AACA,MAAMC,gBAAgB,GAAG;EACvBC,eAAe,EAAE,IADM;EAEvBC,kBAAkB,EAAE;AAFG,CAAzB;AAKAR,QAAQ,CACLS,OADH,CACWP,YADX,EACyBI,gBADzB,EAEGI,IAFH,CAEQ,MAAM;EACVC,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACD,CAJH,EAKGC,KALH,CAKUC,KAAD,IAAW;EAChBH,OAAO,CAACG,KAAR,CAAc,8BAAd,EAA8CA,KAA9C;AACD,CAPH;AASAC,MAAM,CAACC,OAAP,GAAiBhB,QAAQ,CAACiB,UAA1B"}},"mtime":1704534147467}}